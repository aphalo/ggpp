<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Pedro J. Aphalo" />

<meta name="date" content="2021-12-10" />

<title>Extensions to the Grammar of Graphics</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Extensions to the Grammar of Graphics</h1>
<h3 class="subtitle">Package ‘ggpp’ 0.4.3</h3>
<h4 class="author">Pedro J. Aphalo</h4>
<h4 class="date">2021-12-10</h4>


<div id="TOC">
<ul>
<li><a href="#preliminaries">Preliminaries</a></li>
<li><a href="#introduction-to-the-extensions">Introduction to the extensions</a>
<ul>
<li><a href="#data-labels-annotations-and-insets">Data labels, annotations and insets</a></li>
<li><a href="#annotations-in-ggplot2">Annotations in ‘ggplot2’</a></li>
<li><a href="#extending-ggplot2">Extending ‘ggplot2’</a></li>
<li><a href="#when-to-use-annotations-and-when-insets">When to use annotations and when insets</a></li>
<li><a href="#positioning-data-labels">Positioning data labels</a></li>
<li><a href="#highlighting-data-features">Highlighting data features</a></li>
<li><a href="#local-density-of-observations">Local density of observations</a></li>
<li><a href="#summary-statistics">Summary statistics</a></li>
<li><a href="#ggplot-methods">ggplot methods</a></li>
<li><a href="#thoughts-for-the-future">Thoughts for the future</a></li>
<li><a href="#list-of-references">List of references</a></li>
</ul></li>
<li><a href="#examples">Examples</a>
<ul>
<li><a href="#ggplot-methods-1">ggplot methods</a></li>
<li><a href="#geometries">Geometries</a>
<ul>
<li><a href="#geom_table-and-stat_fmt_table">geom_table() and stat_fmt_table()</a></li>
<li><a href="#geom_plot">geom_plot()</a></li>
<li><a href="#geom_grob">geom_grob()</a></li>
<li><a href="#geom_vhlines">geom_vhlines()</a></li>
<li><a href="#geom_text_s">geom_text_s()</a></li>
<li><a href="#normalised-parent-coordinates">Normalised Parent Coordinates</a></li>
<li><a href="#marginal-markings">Marginal markings</a></li>
</ul></li>
<li><a href="#statistics">Statistics</a>
<ul>
<li><a href="#stat_centroid">stat_centroid()</a></li>
<li><a href="#stat_quadrant_counts-and-geom_quadrant_lines">stat_quadrant_counts() and geom_quadrant_lines()</a></li>
<li><a href="#stat_apply_group">stat_apply_group</a></li>
<li><a href="#stat_dens2d_labels-and-stat_dens2d_filter">stat_dens2d_labels() and stat_dens2d_filter()</a></li>
<li><a href="#stat_dens1d_labels-and-stat_dens1d_filter">stat_dens1d_labels() and stat_dens1d_filter()</a></li>
</ul></li>
<li><a href="#nudge-position-functions">Nudge position functions</a>
<ul>
<li><a href="#position_nudge_keep">position_nudge_keep()</a></li>
<li><a href="#position_nudge_to">position_nudge_to()</a></li>
<li><a href="#position_nudge_center">position_nudge_center()</a></li>
<li><a href="#position_nudge_line">position_nudge_line()</a></li>
</ul></li>
<li><a href="#appendix-a-more-on-density-filtering">Appendix A: More on density filtering</a></li>
<li><a href="#appendix-b-try_tibble">Appendix B: try_tibble()</a>
<ul>
<li><a href="#time-series">Time series</a></li>
<li><a href="#other-classes">Other classes</a></li>
</ul></li>
</ul></li>
</ul>
</div>

<div id="preliminaries" class="section level2">
<h2>Preliminaries</h2>
<p>We load all the packages used in the examples, if installed, and set flags to skip examples if they are not available.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpp)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>eval_ggrepel <span class="ot">&lt;-</span> <span class="fu">requireNamespace</span>(<span class="st">&quot;ggrepel&quot;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>) <span class="sc">&amp;&amp;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">packageVersion</span>(<span class="st">&quot;ggrepel&quot;</span>) <span class="sc">&gt;</span> <span class="st">&quot;0.9.1&quot;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (eval_ggrepel) <span class="fu">library</span>(ggrepel)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>eval_magick <span class="ot">&lt;-</span> <span class="fu">requireNamespace</span>(<span class="st">&quot;magick&quot;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>As we will use text and labels on the plotting area we change the default theme to an uncluttered one.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>old_theme <span class="ot">&lt;-</span> <span class="fu">theme_set</span>(<span class="fu">theme_bw</span>())</span></code></pre></div>
</div>
<div id="introduction-to-the-extensions" class="section level1">
<h1>Introduction to the extensions</h1>
<div id="data-labels-annotations-and-insets" class="section level2">
<h2>Data labels, annotations and insets</h2>
<p><em>Data labels</em> add textual information directly related to individual data points (shown as glyphs). Text position in this case is dependent on the scales used to represent data points. Text is usually displaced so that it does not occlude the glyph representing the data point and when the link to the data point is unclear, this link is signaled with a line segment or arrow. Data labels are distinct from annotations but instead contribute to the representation of data on a plot or map.</p>
<p><em>References</em> are lines, shading or marks used to help the reading of a plot. These elements are used to highlight specific values on an axis or a region in a plot. They, like data labels, are positioned relative to the scales used for data. The position of data labels and lines, glyphs or shading used as reference cannot be altered by the designer of a plot, as the position conveys information. I will use the term <em>data labels</em> irrespective if the “labels” are textual or graphical, like icons and small plots and simple tables linked to data points or map features.</p>
<p>According to Koponen and Hildén (2019), “[in a statistical chart] annotations can be used to draw reader attention to relevant detail”. These authors use as an example a text box in a plot to highlight a data point that is off-scale and has been “squeezed” to a position immediately outside the plotting area.</p>
<p><em>Annotations</em> differ from data labels, in that their position is decoupled from their meaning. Insets can be thought as larger, but still self-contained annotations. In most cases the reading of inset tables and plots depends only weakly on the plot or map in which they are included.</p>
<p>In the case of annotations and insets the designer of a data visualization has the freedom to locate them anywhere, as long they do not occlude features used to describe data. I will use the term <em>annotation</em> irrespective if the “labels” are textual or graphical. Insets are similar to annotations, but the term <em>inset</em> is used when an annotation’s graphical or textual element is complex and occupies more space within the plotting area. Insets can be moved from within the main plotting area to being adjacent to it, e.g., as a smaller panel, without any loss of meaning .</p>
<p>That the position of annotations and insets is independent of the plotted data cannot be expressed using the grammar of graphics (GG) as implemented in package ‘ggplot2’.</p>
</div>
<div id="annotations-in-ggplot2" class="section level2">
<h2>Annotations in ‘ggplot2’</h2>
<p>The plotting of data using package ‘ggplot2’ is described by Wickham (2016) and several other books. Chapter 7 in Aphalo (2020) not only describes the grammar used by ‘ggplot2’ but also several extensions to it, including those provided by packages ‘ggpp’ and ‘ggpmisc’.</p>
<p>In <em>The Layered Grammar of Graphics</em> (Wickham 2000) as implemented in package ‘ggplot2’ (Wickham 2016) annotations are “second class” features. As layers they behave differently than data layers: Only constant values can be mapped to aesthetics and do no support faceting into panels. In essence <code>annotate()</code> disconnects the resulting plot elements from the data source and faceting, but not from the scales used to graphically display the data values.</p>
<p>From the data visualization perspective the main practical and conceptual difference between data labels and annotations is in the scales used to position them within the plotting area. Instead of using an <code>annotate()</code> function that deviates from the grammar of graphics to implement annotations, we could retain the use of the grammar of graphics for annotations but add support of native plot coordinates (npc). Support of annotations done in this way would allow “annotation layers” to behave almost identically to “data layers”, and use the same grammar. The <em>x</em> and <em>y</em> position aesthetics used for data could be supplemented with pseudo-aesthetics without any translation relative to the native plotting coordinates of the plotting area or viewport. Doing so, would allow the graphic design flexibility conceptually inherent to annotations within a user-friendly syntax.</p>
</div>
<div id="extending-ggplot2" class="section level2">
<h2>Extending ‘ggplot2’</h2>
<p>Based on this insight, a new approach to adding annotations and insets was implemented in package ‘ggpmisc’ (&gt;= 0.3.1) through two new <em>x</em> and <em>y</em> pseudo-aesthetics, <em>npcx</em> and <em>npcy</em>, and corresponding dumb scales and various geometries that make use of them. These scales and geometries were implemented as an extension to package ‘ggplot2’.</p>
<p>Before showing how this works in practice, we load the package and set an uncluttered theme as default.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpp)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>()))</span></code></pre></div>
<p>Native plot coordinates have range 0..1. However, the “npc” geoms also recognize some positions by name with the same text strings as used for text justification in ‘ggplot2’. The default justification is <code>&quot;inward&quot;</code>, as this protects from clipping at the edges the plotting area irrespective the arguments passed to the <code>witdth</code> and <code>height</code> parameters of R’s graphic devices.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="fu">factor</span>(cyl), mpg)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_npc</span>(<span class="at">data =</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="st">&quot;left&quot;</span>, <span class="st">&quot;left&quot;</span>),</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">y =</span> <span class="fu">c</span>(<span class="st">&quot;top&quot;</span>, <span class="st">&quot;bottom&quot;</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">label =</span> <span class="fu">c</span>(<span class="st">&quot;Most</span><span class="sc">\n</span><span class="st">efficient&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;Least</span><span class="sc">\n</span><span class="st">efficient&quot;</span>)),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">npcx =</span> x, <span class="at">npcy =</span> y, <span class="at">label =</span> label),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">size =</span> <span class="dv">3</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>p1</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The advantage of this approach becomes apparent when the limits of the <em>y</em> scale are unknown or vary. When a script or user defined plotting function sets the scale limits based on the input data, in the absence of the extensions proposed here, setting annotations consistently within the plotting area becomes laborious. The example below, shows how the annotations remain at the desired position when the <em>y</em> scale limts are expanded.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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I1BII1BII1BII1BII1BII1Bok3lgeYNhgF8ECmkECmkECmkEClcskqCMbSZII1BII1Bo4xoUWESgkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagcMV3dUIZ3xcPacKB9l91jBm+rh9cLw5DeegGelN/2jG3pyfm6tniMJSI6jXohyf/SGbQ4dvOeCadGwb45XyK7x9dm+GbMzvE8v+VAWaDQG8OpoHODgP8yjCDzg4D/HIOlGtQFME50NvTY1bxyB37oJDGnSRII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BI8xNoXLtcenzw9fLjwAPyDfSh48ADvAbai6KKMV37ftSMov3k3SMKxSZ8BmrfnzeS94Ov2r2KSd4zg2JDPgNNJtBk2jRxNdppJe8qnOKxMa+BVuzHvd324HnL2E4bBIoNeT3FP26Nmo0k095Oq5vEer5PoNiQp0CrkV0ZpYukwWH0q8OGOY+SBdLgkEUSNsJGPaQRKKQRKKQRKKQRKKQRKKQRKKQRKKR5DXTUjBrJ24vJ/aP5+0g8GwoHXgO1RT54d5PbnnDgKdDpTc7dH5K372uXcTXatQ/bpcfjLw6jCs+GwoW/h0XOG9MZNK59et4y3Upcuxg/IbrX5tlQuPET6PRJ0GmgF5MHmD+mx5NDo3ctAoUDT4GmT4IuCbQyOUygcOMe6PB1/eB6cdgDxk+Czp/ie48uahfpcQKFM+dAb09PzNWzxWEPGX+73F2gC4ukNFCeDYUD50CHbzum/6qzMAzwyznQ/tG1Gb45s0Msv18VMOEc6M3BNNDZYYBfGWbQ2WGAX1yDQtoGq/jjDVbxwC/Dzz4o8AvheVBII1BII1BII1BII1BII1BII1BII1BII1BIyxookI9sgRYh+FmbF7AFAvWPF7AFAvWPF7CFAAJFmREopBEopBEopBEopOkHan+0ScBuT+tPztZ/mq7+y/rTzvpP80U/0Kt60IF+OEl/tECw7LecXxX4AuQD7f/+u5ADtd+1HbT05yIU+CLUA7392z+DPsX3j/4e9imeGXS1q+Owr0H7L0/SSShcc992nj/xQJP/t4EHOveTgwLU//bM3BS4ShIP9KpuHRf9ZWQ3/EPggc7/8Lj8iQdqgt9m+hD4KZ4ZdJ3AA00u4YrcRtzeTb3QVZ5+oCg1AoU0AoU0AoU0AoU0AoU0At1eN9ppLR77778Xj9i/gm9e/Lg1eP7ZSMwh0K0NDhfLS9tbPNStLPukHn/t3moEurUlMS45tmSutJ/0+byKOQS6rbia/j2k1fQvIk+Cm/5uf/Kxiff+FO22u3aqnBw5t5Npt5JWzBS6GoFuzXaWnua7u+1Rs5J+PJ4cK+lbXK3YNNN6x3/a223bqTMNdNn8i3sEujWb2M+X4w+muaWXl0mG9l1cbUwuVKd/mia8105/u+wKFvcIdGvj7HrJKX6nlUZpZtY/02jTDqd/ahdMyT/pH6RTKx5EoFsbn+J3WvYDx0DjvR+bDQJ1QaBbu4uxtzN/ire7o/YUfxfo3fXmqPlir204xTsg0K1NY4yrO63pwshmd7dISrM8nyyS7Jvd269MemWRtBqBbi1N7Dy5Av1LWmW6kZT8vnK3zTS+Rp3ZZrJ7U9MJtcs200oEmpP5jfpkDT/+gI36NQg0L3O3OrvTlRH79GsQaF5m5sq4Os2Sh0XWIVBII1BII1BII1BII1BII1BII1BI+x8wuNKhcGwZBwAAAABJRU5ErkJggg==" style="display: block; margin: auto;" /></p>
<p>To support the existing syntax for annotations using the new geometries, function <code>ggplot2::annotate()</code> is overridden when package ‘ggpp’ is loaded. The new definition adds support for the new pseudo-aesthetics <em>npcx</em> and <em>npcy</em> retaining its original ‘ggplot2’ behaviour in all other respects.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="fu">factor</span>(cyl), mpg)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text_npc&quot;</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">npcx =</span> <span class="fu">c</span>(<span class="st">&quot;left&quot;</span>, <span class="st">&quot;left&quot;</span>),</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">npcy =</span> <span class="fu">c</span>(<span class="st">&quot;top&quot;</span>, <span class="st">&quot;bottom&quot;</span>),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">c</span>(<span class="st">&quot;Most</span><span class="sc">\n</span><span class="st">efficient&quot;</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;Least</span><span class="sc">\n</span><span class="st">efficient&quot;</span>),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Inset plots can be added with the same syntax using <code>geom_plot_npc()</code>. They can be thought also as being annotations. Here we use <code>annotate()</code> but <code>geom_plot()</code> can be also used directly, in which case the inset plots can be different for each panel.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="fu">factor</span>(cyl), mpg, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_boxplot</span>() <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="dv">9</span>) <span class="sc">+</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid =</span> <span class="fu">element_blank</span>())</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(wt, mpg, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;plot_npc&quot;</span>, <span class="at">npcx =</span> <span class="st">&quot;left&quot;</span>, <span class="at">npcy =</span> <span class="st">&quot;bottom&quot;</span>, <span class="at">label =</span> p2) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>, <span class="at">x =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>A simple example with facets, labeling of panels in a traditional way as requiered by some book and journal styles. In this case panel tags within the plotting are at same “npc” location with free scale limits in panels.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(wt, mpg)) <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_npc</span>(<span class="at">data =</span> <span class="fu">data.frame</span>(<span class="at">cyl =</span> <span class="fu">levels</span>(<span class="fu">factor</span>(mtcars<span class="sc">$</span>cyl)),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">label =</span> LETTERS[<span class="fu">seq_along</span>(<span class="fu">levels</span>(<span class="fu">factor</span>(mtcars<span class="sc">$</span>cyl)))],</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">x =</span> <span class="fl">0.90</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">y =</span> <span class="fl">0.95</span>),</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">npcx =</span> x, <span class="at">npcy =</span> y, <span class="at">label =</span> label),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(cyl), <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>This approach was first implemented in ‘ggpmisc’ version 0.3.1 released in April 2919. As of version &gt;= 0.3.8, the implementation can be considered fairly stable. However, this implementation is to an extent dependent on undocumented behaviour of ‘ggplot2’ functions, which means that future updates to ‘ggplot2’ can break this functionality.</p>
</div>
<div id="when-to-use-annotations-and-when-insets" class="section level2">
<h2>When to use annotations and when insets</h2>
<p>Package ‘ggpp’ adds support for various plot annotations and reference guides. It also adds support for some data labels related to data features. While developing these statistics, it became clear that expanding the grammar of graphics’s support for annotations would simplify the code of these statistics considerably and also more cleanly separate the computations on data from the positioning of annotations.</p>
<p><strong>Table</strong>. Geometries useful for data labels and annotations. Currently implemented <em>ordinary</em> geometries and their <em>npc</em> versions. The rightmost column shows the expected class of the objects mapped to the <code>label</code> aesthetic. When using <code>annotate()</code> to add a single plot, table or grob as an inset, enclosing them in a list is allowed, but not a requirement.</p>
<table>
<thead>
<tr class="header">
<th>Data labels (data coordinates)</th>
<th>Annotations (npc)</th>
<th>Mapped to <code>label</code> aesthetic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ggplot2::geom_text()</code></td>
<td><code>geom_text_npc()</code></td>
<td><code>character</code> vector</td>
</tr>
<tr class="even">
<td><code>ggplot2::geom_label()</code></td>
<td><code>geom_label_npc()</code></td>
<td><code>character</code> vector</td>
</tr>
<tr class="odd">
<td><code>ggrepel::geom_text_repel()</code></td>
<td></td>
<td><code>character</code> vector</td>
</tr>
<tr class="even">
<td><code>ggrepel::geom_label_repel()</code></td>
<td></td>
<td><code>character</code> vector</td>
</tr>
<tr class="odd">
<td><code>ggplot2::geom_label()</code></td>
<td><code>geom_label_npc()</code></td>
<td><code>character</code> vector</td>
</tr>
<tr class="even">
<td><code>geom_text_s()</code></td>
<td><em>coming soon</em></td>
<td><code>character</code> vector</td>
</tr>
<tr class="odd">
<td><code>geom_plot()</code></td>
<td><code>geom_plot_npc()</code></td>
<td><code>list()</code> of <code>ggplot2::gg</code></td>
</tr>
<tr class="even">
<td><code>geom_table()</code></td>
<td><code>geom_table_npc()</code></td>
<td><code>list()</code> of <code>data.frame</code></td>
</tr>
<tr class="odd">
<td><code>geom_grob()</code></td>
<td><code>geom_grob_npc()</code></td>
<td><code>list()</code> of <code>grid::grob</code></td>
</tr>
</tbody>
</table>
<p>When adding an informative element to a plot, assess whether it is an <em>annotation</em> or a <em>data label</em>. To decide on the best approach, consider if the location of the element is more “naturally” expressed in the original data units or as position relative to the edges or centre of the plotting area. In the second case, prefer the “npc” geoms as you are dealing with <em>annotations</em>, otherwise, use the ordinary geometries as you are dealing with data labels or data points.</p>
</div>
<div id="positioning-data-labels" class="section level2">
<h2>Positioning data labels</h2>
<p>Nudging is normally used to displace text labels so that they do not overlap the points or lines representing the data being labelled. Two enhanced versions of <code>position_nudge()</code> are provided, <code>position_nudge_center()</code> and <code>position_nudge_line()</code>. These functions make it possible to apply nudging that varies automatically according to the relative position of points with respect to arbitrary points or lines, or with respect to a polynomial or smoothing spline fitted on-the-fly to the the observations.</p>
<p>These new position functions are compatible with ‘ggrepel’ (&gt;= 0.9.2) and similarly to <code>position_nudge_repel()</code> support drawing segments or arrows connecting the original position to the nudged position.</p>
</div>
<div id="highlighting-data-features" class="section level2">
<h2>Highlighting data features</h2>
<p>If maxima or minima are to be labelled in a plot, this can be automated so that the feature and its labelling is automated. This is possible with <code>stat_peaks()</code> and <code>stat_valleys()</code>. Marginal annotations with symbols and vertical and horizontal lines can be used to highlight summary values or events/conditions. The <em>geoms</em> <code>geom_quadrant_lines()</code>, <code>geom_vhlines()</code>, <code>geom_x_margin_arrow()</code>, <code>geom_x_margin_grob()</code>, <code>geom_x_margin_point()</code>, <code>geom_y_margin_arrow()</code>, <code>geom_y_margin_grob()</code> and <code>geom_y_margin_point()</code> make such labelling easy.</p>
</div>
<div id="local-density-of-observations" class="section level2">
<h2>Local density of observations</h2>
<p>There are two aspects to this: highlighting with colours dense or sparse regions, or using density to decide which observations to label. In this cases we can use <code>stat_dens1d_labels()</code> and <code>stat_dens2d_labels()</code>, <code>stat_dens1d_filter()</code> and <code>stat_dens2d_filter()</code>, and <code>stat_dens1d_filter_g()</code> and <code>stat_dens2d_filter_g()</code>.</p>
</div>
<div id="summary-statistics" class="section level2">
<h2>Summary statistics</h2>
<p>With some types of data it is common to compute a summary per quadrant, rather than based on a prior grouping. The <em>stat</em> <code>stat_quadrant_counts()</code> can de used to annotate plots with the number of observations in each quadrant. <code>stat_summary_xy()</code> is similar to <code>stat_summary()</code> from ‘ggplot2’ but useful when both <em>x</em> and <em>y</em> are continuous variables. It allows the use the same, or different functions to summarise the data over <em>x</em> and <em>y</em>. In contrast <code>stat_centroid()</code> always applies the same function over <em>x</em> and <em>y</em>.</p>
</div>
<div id="ggplot-methods" class="section level2">
<h2>ggplot methods</h2>
<p>Being <code>ggplot()</code> defined as a generic method in ‘ggplot2’ makes it possible to define specializations, and we provide two for time series stored in objects of classes <code>ts</code> and <code>xts</code> which automatically convert these objects into tibbles and set by default the aesthetic mappings for <code>x</code> and <code>y</code> automatically. A companion function <code>try_tibble()</code> is also exported.</p>
</div>
<div id="thoughts-for-the-future" class="section level2">
<h2>Thoughts for the future</h2>
<p>Although we have discussed only scales for <em>x</em> and <em>y</em> aesthetics, the same consideration applies to other aesthetics like <em>colour</em>. It seems generally useful to allow aesthetics to use a different scale for annotations than for data. Defining pseudo-aesthetics for annotations instead of allowing multiple scales for each aesthetic in a plot would add flexibility while still keeping the guarantee that the meaning of aesthetics values remains consistent across all plot elements representing data.</p>
</div>
<div id="list-of-references" class="section level2">
<h2>List of references</h2>
<p>Aphalo, Pedro J. (2020) <em>Learn R: As a Language.</em> The R Series. Boca Raton and London: Chapman and Hall/CRC Press. ISBN: 978-0-367-18253-3. 350 pp.</p>
<p>Koponen, J; Hildén, J. (2019) <em>Data visualization handbook</em>. Aalto ARTS books, Espoo. ISBN 978-952-60-7449-8.</p>
<p>Wickham H. (2010) A Layered Grammar of Graphics. <em>Journal of Computational and Graphical Statistics</em> <strong>19:</strong> 3–28.</p>
<p>Wickham H. (2016) <em>ggplot2</em>. Springer International Publishing. ISBN 978-3-319-24275-0.</p>
</div>
</div>
<div id="examples" class="section level1">
<h1>Examples</h1>
<p>Some of the examples below are evaluated only if packages ‘ggrepel’, and ‘magick’ are available.</p>
<div id="ggplot-methods-1" class="section level2">
<h2>ggplot methods</h2>
<p><code>ggplot()</code> methods for classes <code>&quot;ts&quot;</code> and <code>&quot;xts&quot;</code> automate plotting of time series data, as <em>x</em> and <em>y</em> aesthetics are mapped to time and the variable of the time series, respectively. For plotting time series data stored in objects of other classes, see the conversion functions <code>try_tibble()</code> and <code>try_data_frame()</code> in the last section of this vignette.</p>
<p>By default, <code>time</code> is of class <code>Date</code> or of class <code>POSIXct</code> depending on how time is stored in the time series object. On-the-fly coversion of <code>time</code> to <code>numeric</code> is also possible (shown in the second example below).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(lynx)</span></code></pre></div>
<pre><code>## [1] &quot;ts&quot;</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lynx) <span class="sc">+</span> <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The class of variable <code>time</code>, mapped to the <em>x</em> aesthetic, affects the scale used by default as well as the formatting of values when converted to character strings or printed. Here we force its conversion to <code>numeric</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lynx, <span class="at">as.numeric =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="geometries" class="section level2">
<h2>Geometries</h2>
<p>Three of the geometries described below allow the addition of plot layers containing insets. Insets can be plots, tables, bitmaps, or grid objects. Insets can be also added as annotations. Using for <code>data</code> a tibble with a list column containing data frames or tibbles allows like any other geom, the use of grouping, multiple insets per panel, faceting with different tables per panel, and different number of insets in each panel, i.e., individual tables added to a plot with <code>geom_table</code> behave similarly to individual <code>character</code> values added with <code>geom_text</code>.</p>
<p>Other geometries also described in this section support the use of native plot coordinates for positioning elements in the plotting area. Obviously these geometries are not meant to be used to display data, but instead they make it possible to add annotations to plots consistently across data sets even when using scales with varying limits.</p>
<div id="geom_table-and-stat_fmt_table" class="section level3">
<h3>geom_table() and stat_fmt_table()</h3>
<p>The <em>geometry</em> <code>geom_table()</code> plots a data frame or tibble, nested in a tibble passed as data argument, using <em>aesthetics</em> <code>x</code> and <code>y</code> for positioning, and <code>label</code> for the list of data frames containing the data for the tables. The tables are created as ‘grid’ grobs and added as usual to the ggplot object. In contrast to “standard” geoms, this geom by default does not inherit the globally mapped aesthetics. Tables are always added at their native sizes, which can be altered by changing the <code>size</code> of the text in them.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">hwy =</span> <span class="fu">median</span>(hwy), <span class="at">cty =</span> <span class="fu">median</span>(cty))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>data.tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">7</span>, <span class="at">y =</span> <span class="dv">44</span>, <span class="at">tb =</span> <span class="fu">list</span>(tb))</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_table</span>(<span class="at">data =</span> data.tb, <span class="fu">aes</span>(x, y, <span class="at">label =</span> tb)) <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>In plots with a single panel it can be easier to use <code>annotate()</code> to add inset tables, giving the same plot as above. In this case single data frames, ggplots or grobs do not need to be wrapped in a list, although lists are also supported.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">hwy =</span> <span class="fu">median</span>(hwy), <span class="at">cty =</span> <span class="fu">median</span>(cty))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;table&quot;</span>, <span class="at">x =</span> <span class="dv">7</span>, <span class="at">y =</span> <span class="dv">44</span>, <span class="at">label =</span> tb) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div>
<p>Table themes are supported through parameter <code>table.theme</code> and if variables or constants are mapped to the <code>colour</code>, <code>fill</code>, <code>size</code>, or <code>family</code>, aesthetics they override the corresponding default theme settings. The display of <code>rownames</code> and <code>colnames</code> can be enabled or disable through parameter <code>table.rownames</code> and <code>table.colnames</code> and the horizontal justification of text in the core of the table through parameter <code>table.hjust</code>.</p>
<p>Parameter <code>table.theme</code> accepts as arguments <code>NULL</code> for use of the current default, a <code>ttheme</code> constructor function such as those defined in package ‘gridExtra’, or the variations on them defined in this package. The active default can be set with function <code>ttheme_set()</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_table</span>(<span class="at">data =</span> data.tb, <span class="fu">aes</span>(x, y, <span class="at">label =</span> tb),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">table.theme =</span> ttheme_gtsimple,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">table.hjust =</span> <span class="dv">0</span>, <span class="at">colour =</span> <span class="st">&quot;darkred&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#FFFFBB&quot;</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Using <code>stat_fmt_tb()</code> we can rename columns and rows of the tibble, reorder them and/or select a subset of columns or rows as shown below. To provide a complete example we also replace the names of the scales for <em>x</em>, <em>y</em> and <em>color</em> aesthetics. Here we pass a <code>character</code> vector with the original names of the columns in full, but partial matching is tried when needed. It is also possible to use a <code>numeric</code> vector of positional indexes.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_table</span>(<span class="at">data =</span> data.tb, <span class="fu">aes</span>(x, y, <span class="at">label =</span> tb),</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">table.theme =</span> ttheme_gtlight,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>, <span class="at">colour =</span> <span class="st">&quot;darkblue&quot;</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">stat =</span> <span class="st">&quot;fmt_tb&quot;</span>, </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">tb.vars =</span> <span class="fu">c</span>(<span class="at">Cylinders =</span> <span class="st">&quot;cyl&quot;</span>, <span class="at">MPG =</span> <span class="st">&quot;hwy&quot;</span>), <span class="co"># rename</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">tb.rows =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">+</span> <span class="co"># change order</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Engine displacement (l)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Fuel use efficiency (MPG)&quot;</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&quot;Engine cylinders</span><span class="sc">\n</span><span class="st">(number)&quot;</span>) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Parsed text, using plot math syntax is supported in the table, with fall-back to plain text in case of parsing errors, on a cell by cell basis (see <code>tableGrob()</code> in package ‘gridExtra’ for details, as this function is used to build the table). Here we plot the MPG for city traffic and we can see that the plotting area expands to include the coordinates at which the table is anchored. Justification is by default set to <code>&quot;inward&quot;</code> which ensures that the table is fully within the plotting region.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>tb.pm <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">Parameter =</span> <span class="fu">c</span>(<span class="st">&quot;frac(beta[1], a^2)&quot;</span>, <span class="st">&quot;frac(beta[2], a^3)&quot;</span>),</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">Value =</span> <span class="fu">c</span>(<span class="st">&quot;10^2.4&quot;</span>, <span class="st">&quot;10^3.532&quot;</span>))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>data.tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">7</span>, <span class="at">y =</span> <span class="dv">44</span>, <span class="at">tb =</span> <span class="fu">list</span>(tb.pm))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, cty)) <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_table</span>(<span class="at">data =</span> data.tb, <span class="fu">aes</span>(x, y, <span class="at">label =</span> tb), <span class="at">parse =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>As implemented, there is no limitation to the number of insets, and faceting is respected. If the base plot shows a map, multiple small tables could be superimposed on different countries or regions. The size of the table inset is given by the <em>size</em> aesthetic, so like for <code>geom_text()</code> it is independent of the <code>ggplot2::theme()</code> and controlled by the <code>table.theme</code> directly or indirectly through the <em>size</em> aesthetic.</p>
<p>Please see section <strong>Normalised Parent Coordinates</strong> below for a description of <code>geom_table_npc()</code>.</p>
</div>
<div id="geom_plot" class="section level3">
<h3>geom_plot()</h3>
<p>The <code>geom_plot()</code> <em>geometry</em> plots ggplot objects, nested in a tibble passed as data argument, using <em>aesthetics</em> <code>x</code> and <code>y</code> for positioning, and <code>label</code> for the ggplot object containing the definition of the plot to be nested. With this approach in plots with facets the insets can be different in each panel. It is also possible to inset more than one plot in a single call simply by creating a tibble with multiple rows.</p>
<p>Behind the scenes, one Grob is created for each plot to be inset. The conversion is done with <code>ggplotGrob()</code> and the Grobs added to the main ggplot object.</p>
<p>As an example we produce a plot where the inset plot is a zoomed-in detail from the main plot. In this case the main and inset plots start as the same plot. In most cases the size of text and other elements in the inset should be smaller than in the main plot. Here we override the default theme setting the <code>base_size</code> from its default of 11 pt to 8 pt.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>data.tb <span class="ot">&lt;-</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">7</span>, <span class="at">y =</span> <span class="dv">44</span>, </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">plot =</span> <span class="fu">list</span>(p <span class="sc">+</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fl">4.9</span>, <span class="fl">6.2</span>), </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">13</span>, <span class="dv">21</span>)) <span class="sc">+</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">theme_bw</span>(<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">scale_colour_discrete</span>(<span class="at">guide =</span> <span class="st">&quot;none&quot;</span>)))</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_plot</span>(<span class="at">data =</span> data.tb, <span class="fu">aes</span>(x, y, <span class="at">label =</span> plot)) <span class="sc">+</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;rect&quot;</span>, </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">xmin =</span> <span class="fl">4.9</span>, <span class="at">xmax =</span> <span class="fl">6.2</span>, <span class="at">ymin =</span> <span class="dv">13</span>, <span class="at">ymax =</span> <span class="dv">21</span>,</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>In general, the inset plot can be any ggplot object, allowing the creation of very different combinations of main plot and inset plots. Here we use the inset to show summaries as in the previous example of an inset table.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="fu">factor</span>(cyl), hwy, <span class="at">fill =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">&quot;col&quot;</span>, <span class="at">fun =</span> mean, <span class="at">width =</span> <span class="dv">2</span><span class="sc">/</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Number of cylinders&quot;</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">title =</span> <span class="st">&quot;Means&quot;</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">guide =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>data.tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">7</span>, <span class="at">y =</span> <span class="dv">44</span>, </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">plot =</span> <span class="fu">list</span>(p <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">theme_bw</span>(<span class="dv">8</span>)))</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_plot</span>(<span class="at">data =</span> data.tb, <span class="fu">aes</span>(x, y, <span class="at">label =</span> plot)) <span class="sc">+</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Engine displacement (l)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Fuel use efficiency (MPG)&quot;</span>,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&quot;Engine cylinders</span><span class="sc">\n</span><span class="st">(number)&quot;</span>) <span class="sc">+</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The same plot as above can be created using <code>annotate()</code>, but be aware that when using facets in ‘ggplot2’ annotations are identical in all panels.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="fu">factor</span>(cyl), hwy, <span class="at">fill =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">&quot;col&quot;</span>, <span class="at">fun =</span> mean, <span class="at">width =</span> <span class="dv">2</span><span class="sc">/</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Number of cylinders&quot;</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">title =</span> <span class="st">&quot;Means&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">guide =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;plot&quot;</span>, <span class="at">x =</span> <span class="dv">7</span>, <span class="at">y =</span> <span class="dv">44</span>, <span class="at">label =</span> p <span class="sc">+</span> <span class="fu">theme_bw</span>(<span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Engine displacement (l)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Fuel use efficiency (MPG)&quot;</span>,</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&quot;Engine cylinders</span><span class="sc">\n</span><span class="st">(number)&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p>As implemented, there is no limitation to the number of insets, and faceting is respected. If the base plot shows a map or a bitmap, multiple small plots could be superimposed on different countries or regions. The size of the insets is controlled by the <code>vp.width</code> and <code>vp.height</code> aesthetics as a fraction of the main plot’s plotting region. Consequently, the insets are scaled together with the main plot. A possible unintuitive but useful feature, is that the theme is linked to each plot.</p>
<p>Please see section <strong>Normalised Parent Coordinates</strong> below for a description of <code>geom_plot_npc()</code>.</p>
</div>
<div id="geom_grob" class="section level3">
<h3>geom_grob()</h3>
<p>The <code>geom_grob()</code> <em>geometry</em> plots grobs (graphical objects as created with ‘grid’), nested in a tibble passed as data argument, using <em>aesthetics</em> <code>x</code> and <code>y</code> for positioning, and <code>label</code> for the Grob object. While <code>geom_table()</code> and <code>geom_plot()</code> take as values mapped to the <code>label</code> aesthetics tibbles or data frames, and ggplots, respectively, and convert them into Grobs, <code>geom_grob()</code> expects Grobs ready to be rendered. This means that any Grob created using ‘grid’ or its extenssions can be added as a data label to a ggplot.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>file.name <span class="ot">&lt;-</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;Isoquercitin.png&quot;</span>, </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">package =</span> <span class="st">&quot;ggpp&quot;</span>, <span class="at">mustWork =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>Isoquercitin <span class="ot">&lt;-</span> magick<span class="sc">::</span><span class="fu">image_read</span>(file.name)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>grobs.tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">40</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">9</span>),</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">width =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.01</span>, <span class="dv">1</span>),</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">height =</span>  <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.01</span>, <span class="fl">0.3</span>),</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">grob =</span> <span class="fu">list</span>(grid<span class="sc">::</span><span class="fu">circleGrob</span>(), </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>                               grid<span class="sc">::</span><span class="fu">rectGrob</span>(), </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>                               grid<span class="sc">::</span><span class="fu">textGrob</span>(<span class="st">&quot;I am a Grob&quot;</span>),</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>                               grid<span class="sc">::</span><span class="fu">rasterGrob</span>(<span class="at">image =</span> Isoquercitin)))</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_grob</span>(<span class="at">data =</span> grobs.tb, </span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(x, y, <span class="at">label =</span> grob, <span class="at">vp.width =</span> width, <span class="at">vp.height =</span> height),</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="fl">0.7</span>, <span class="at">vjust =</span> <span class="fl">0.55</span>) <span class="sc">+</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fl">0.3</span>, <span class="at">add =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fl">0.2</span>, <span class="at">add =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme_bw</span>(<span class="dv">12</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>As shown above for inset tables and inset plots, it is also possible to use <code>annotate()</code> with Grobs. The next example insets a single <code>Grob</code>. Here we reuse the bitmap <code>Isoquercitin</code> read in the previous example. The Grob is contained in a viewport. Here setting <code>width = 1</code> (“npc” units) when creating the <code>Grob</code> from the bitmap ensures that the bitmap fills the width of the viewport (to ensure that the inset is not distorted, set only one of <code>width</code> or <code>height</code>). The argument to <code>vp.width</code> or <code>vp.height</code>, also in “npc” units, determines the size of the <code>Grob</code> relative to the size of the plotting area.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;grob&quot;</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">3</span>, <span class="at">vp.width =</span> <span class="fl">0.5</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> grid<span class="sc">::</span><span class="fu">rasterGrob</span>(<span class="at">image =</span> Isoquercitin, <span class="at">width =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme_bw</span>(<span class="dv">12</span>)</span></code></pre></div>
<p><code>geom_grob()</code> is designed thinking that its main use will in graphical annotations, although one could use it for infographics with multiple copies of each grob, this would go against the grammar of graphics. In this implementation grobs cannot be mapped to an aesthetic through a scale.</p>
<p>As implemented, there is no limitation to the number of insets and faceting is respected. If the base plot shows a map or a bitmap, multiple simple grobs (e.g. national flags) could be superimposed on different countries. The size of the insets is controlled by the <code>vp.width</code> and <code>vp.height</code> aesthetics as a fraction of the main plot’s plotting region. Consequently, the insets are scaled together with the main plot.</p>
<p>Please see section <strong>Normalised Parent Coordinates</strong> below for a description of <code>geom_grob_npc()</code>.</p>
</div>
<div id="geom_vhlines" class="section level3">
<h3>geom_vhlines()</h3>
<p>This is a convenience geometry that adds both vertical and horizontal guide lines on the same plot layer, using the same syntax as <code>geom_hline()</code> and <code>geom_vline()</code> from package ‘ggplot2’.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vhlines</span>(<span class="at">xintercept =</span> <span class="fu">c</span>(<span class="fl">2.75</span>, <span class="dv">4</span>), <span class="at">yintercept =</span> <span class="dv">27</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Engine displacement (l)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Fuel use efficiency (MPG)&quot;</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&quot;Engine cylinders</span><span class="sc">\n</span><span class="st">(number)&quot;</span>) </span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="geom_text_s" class="section level3">
<h3>geom_text_s()</h3>
<p>With package ‘ggrepel’ we have become used to easily add text and labels linked to the labelled observations or points by a line segment or arrow. However, sometimes a plot has few text labels and repulsion is unnecessary. In such cases nudging or dodging may be enough, or even preferable so as to achieve consistency.</p>
<p>We can achieve this with <code>geom_text_s()</code> together with a suitable position function that retains the original <em>x</em> and <em>y</em> coordinates of the point. We currently provide three different nudge functions described in a later section. One of them is used by default providing the same default behaviour as <code>geom_text()</code> from ‘ggplot2’ but drawing linking segments if nudging is set to a value different to the default of zero.</p>
<p><strong>Please, be aware that this is a preliminary implementation, whose user interface and behavior are very likely to change in coming months.</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>my.cars <span class="ot">&lt;-</span> mtcars[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>), ]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>my.cars<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">rownames</span>(my.cars)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>my.cars <span class="ot">&lt;-</span> my.cars[<span class="fu">order</span>(my.cars<span class="sc">$</span>wt), ]</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my.cars, <span class="fu">aes</span>(wt, mpg, <span class="at">label =</span> name)) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_s</span>(<span class="fu">aes</span>(<span class="at">colour =</span> <span class="fu">factor</span>(cyl)),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">hjust =</span> <span class="fl">1.04</span>, <span class="at">nudge_y =</span> <span class="sc">-</span><span class="dv">1</span>, </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">nudge_x =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="fl">0.05</span>, <span class="sc">+</span><span class="fl">0.05</span>, <span class="dv">0</span>, <span class="dv">0</span> ,<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> grid<span class="sc">::</span><span class="fu">unit</span>(<span class="fl">1.5</span>, <span class="st">&quot;mm&quot;</span>))) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_discrete</span>(<span class="at">l =</span> <span class="dv">40</span>) <span class="sc">+</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAABsFBMVEUAAAAAADoAAGYAOjoAOpAAXMwAXNUAXN0AZmYAZrYAdwAAdzoAd2YAet0AeuYAkGYAkJAAlu4Ap7YzMzM6AAA6ADo6AGY6Ojo6OmY6OpA6XMw6XN06dwA6dzo6d2Y6etU6kNs6sfc6vttNTU1NTW5NTY5NbqtNjshUVFRmAABmADpmAGZmOgBmOpBmXMxmXNVmdwBmdzpmesxmkABmkJBmp2Zmtttmtv9mvpBmzP9m1P9uTU1uTW5uTY5ubo5ubqtuq+SOTU2OTW6OTY6Obk2OyP+QOgCQOjqQZgCQesyQkACQkDqQkGaQ27aQ29uQ2/+Q5v+Q6f+rbk2rbm6rbo6ryKur5OSr5P+uMSGuMU2uMXWuWZqufby2ZgC2lsy2pwC2p2a2vjq22/+2/9u2//+8MSG8n97Ijk3I///JMSHJwf/XWSHX4P/bkDrbsdXbvjrbvpDb/7bb/+7b///kq27k///lfSHl///yn03y/7zy////tmb/wXX/yI7/zN3/1Gb/25D/27b/29v/4Jr/5Kv/5ub/6ZD//7b//7z//8j//9v//97//+T//+7///f///+ovgeAAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAVtUlEQVR4nO2djX8URxnHj9pUE99KS9EiKuUoDa0iviK0FWgFJb7E0mpSSxJfAgRigkpyRiEvSiDkkrD/sjtzt3e3uzO7M3OzO8/s/r4fCskRwjZ8MzPPM8880wgAIEzD9QMAkAUEBaSBoIA0EBSQBoIC0kBQQBpNQV8FIKIYIxPoClrMUwAPgaCANBAUkAaCAtJAUEAaCApIA0EBaSAoIA0EBaSBoIA0EBSQBoIC0kDQDBoNlGG5BoLKaTRgqHMgqJxGYxyCugaCyhkfh6DOgaAyxsfDH/DTNRBUwjj7Me76KQAElQNBCQBBpfAxFDgGgsoYDyAoASCoDMhJAggqAX7SAIKKgZ9EgKBiICgRIKgQ+EkFCCoEglIBgoqAn2SAoIA0PgmK6swa4pGgqB+uI14JWk555tp0h3sl/F0gD58EHS+lPrP1x3/xX5/dvVn8Xwby8EhQVuE+/KPk8exuNHI+6poKXOKRoOOlFGhCUFpA0CStz/7Df8UUTwJ/BB2XlxDbje4fIUgihD+CBtINHuSfKkw1BMXx4MpSEUEt5p/2Fqc//RvLhd629imBOVUQ1G7+qXUzeHzr07+Fb8BQAlREUHvhPU8zcTeRZqJAFQS1mn/igq6xDBMEpUBVBLVnaJQHZXM9cE4VBLVcYNwx9PEt+EkBrwSVggr4ygJBAWkgaIrW9DQPjxAkUcC5oNvvNptXg2D3SvP0avSaU0HZEvQR24iHoBRwLejuB1PB9ntT+zeuBitv5TzU41u8iEPgjUVBO+V2rJQJglLAtaDrzMo7V3c/XAi231/IfKi9xdt7i/f69ZoDWBc0/MtuQlAKuBaUEY6i25dW+WAaPhBD+GFMndbt4FGUpxzA9hTP/zbRUA3KhoCg+zcuB+unI0EZckHXSph5W2wjno2hEJQA7gXdvXI5DJUu5QvKtnZCO9cEIyioLM4F3X43jOEDlTUoW4QGrenO+AZqgmtBO37yaT43is+iPXHS4LkAeVwLutJkXDXPg+6cG4v40vwwzwhI4lpQIVp50M0xNnZiBK0oHgm6tyiuL2pPhEMnBK0oHgkqTNFz7o9dtCooi8Zk3w6gXDwSdG9RelJ959xXf2hRUF6q7MZQHKBO4JGgmSn6uTF7gnaHahdbnTjin8QjQZ/dnZYVi9jFqaA44h/HI0HF7PzoQfet9q9tpZnWmJrP7jo4dlxSi0mP8F/Qc2MX+RubFvOgvD2Ti2Px440yWkz6hFeCrgm9mRt7+UHQnmA/e09JHfw8widBZTPv0+NjPx7rjqM2yEgXZDN0gJPRwa+ueCRoRuwyZ3X4lCdcs7ESgsPOOFUQdHNs7KfHLY6ggWFFn5UQHILG8UhQyRTfXX1aHERN81lWQnAIGscnQYVBUi+Kf3rceTWTjS57EDSOV4KK6OdBgz85FtRKCA5B43gkaG5w/XdrgoZD9T39hSgELQCPBJUF13NjY68EbK63NsW3Pvv33XvaxSJ2ckQQNI5HgkqC6/tfmme1dpv2MqHhdwL7ZjDYi7dgFwSN45Gg4uCaF4Juvvxni5lQCEoIjwQVs3PuIt9LsllQv8ameJNiEdhlnaoIavfAh2mxCAS1jleCivOgTNBvfmT0XLaBoNbxSVDhThIErTYeCSrei6+QoAdnRyI+73pTjAwVEJRQ44bhR9BlpubB2QsWHqYaeCRoOScx9hanIxycSeqquYERNMInQSUV9ZZ55PIibgiaxCtBy6LlztHuFP+Go7+eHhBUCJvoi3dUVIC/wWIkLEF7+CMoj5H2FktrX6vfYVl3fkaXBgW8EfTxrc7is1VK6MIvjdf9Q/qCpo6IPL+OwTOON4L2rnYV3PH69LjVNJORncFyL4l5WPFPCI6IIMGUxBdB+8Wg6SKj9sTJ9sRFnrG3wCPjJuPadgmOiCx/pQKn+21SBUGZmnMng00rBXcl5kEFFfjRZhLSTBG+CMpadnZIly0zQe+/Emy63knStQttRBTwRdDONlIwaGqfOW7nfRq9bw6+9zu1D0QbERW8EbR7v9azu4I8E6uqnxv7Io2CkWBDfRkZtzNcw2KKT+KPoJ07FDy4JUljnxLDZy4eCeoLs6YjKBDgvaCEyu268/NLimvQQCgotjrjeC8o4z5T01YetEzSgqJYJEEVBO2q6TzNpE9KUJTbJYGgNuHbnRqjHwTNpQqCRlO887vmtOfn9BS/gSMfcXwSVHxXJ2OTxUjOl6DDDn84NCfAI0H3Fm/vLd4z7c9dApifC8AjQZmardvBo9JKlrUxC8EhdBaeCbp2U1jNxNov+hgkceKChp/iAmru+ngkKCtVDu0UVTPxHH0hgpZwKCMm6OxX/nn2wvPrqjXP1ccnQVkhU0uwG7/z/Y/mwhCpCEHLODY0KCivF7mAWb+PT4LK4PWgY688/VYRgmpd3GG0TwlBs/BIUOk9SVGL0EJG0HGNqzssBEnLbIrHVmefyggatCcKWYMyPRUV1UozyZKeGyZxVoXxRtC13lEhzbsNhkV9AEUetAC8EdT8Cs0h0Tg3NPw+Jc7FJ/FIUDmWz8XHURRUf59y+aXf8T81OJ9jFz6JV4JKutvZPRcvoJDC943QT5bwjEdEyNEnICDo9vsLQbDSbDbfXOi+otkf1Oq5eCEFGPr8eujlk2MX4k7i0FwS94KuczHvXB14ySCKL/hcvJqhT46p28UnczaKIqjKxLmgd079PhxB9z+eGnhNU9ASzsUrCRoOimGQo7iM5B/GB08ImoVzQTtT/O6VcIrng+irDPEHSluAl3AuXsVQ5tzsG4rn4lm83tlz750Cxbl4AUQE3X5vamAUddoCXIKCoUzQ5cOqI2I4evIl6AbOcGZBRFBObx1K8Vy8yhA6y+1UDcRnWYbp+XWNU8oVRlqTA0FVUTCUReazOufi49Q4CSqvGiMi6Prp1WD/k+w007O7HvS9GYZOYF/L5aeg2XQXIoKyPOipXiAve6jW9HSqWrk9QaiziNZefNSSuTds1lnQdLPpLgQETSN/KHZnfCJK2iRwnrODnqCz3Q87OBuVz9dYUFGz6Q4SF5YahyaTr/33L8lX2tfOJ17Zem1y5+3Un7S5F88UTWZC50pzNEMfzR71/QVn73PWWFB5L1+xCztnkuZx95IvLY2KPujhi6ko1pqga7zariWc6MtwNFMfrSAHgg6iK6hARsFrgrGSfVB6XLV2Jql7u5ZgM6moguUEmfro1cpF+fnBKb6ujRsymk0LXdg60miM8p8bJ9hEHr13ovt2sHX0V40X5pfYUNl9ZYYNpkuj3OL0EGqpHlR+q0E4gpbSYNneCNqtnUevxS6yLJ58BOXT/NIL8+1ro/ztzuA4yv/bOjLK1OT2dn734QvzbOjkgqbH2mLrQcuyM8ibgFErZ46+oP970Hkj0o0vL0MN2U9bR853F6rR73KFj87zd9Mr2CLrQTfLbE6fM4LWcn62g76goYnhFH9okksZDMQ/kbTcw+h3WcAU/uC/wYfWGAXeF19GHrSIxSFfD/BPjCmeYTLFH5pkbygKunX0r9fOFyqovNzOR5ignRtrZnGGMzARlMv48FB8imfZUTbF9wTtrTfb1350dD4ocor3QFCN3ky89ImvWeuZWEpiICgbQI8cmowCI6ZdL0jiWs50gyT2H8vtj3Z9LSpIktaDUkGncQNvIJIWlNWb1LI1k8EadCZcgf6GW8kTSeH7o700U2eNOpBmYrmpaEBdKibN5LYeVAHtxg0vfZtP8YM68nfqaKieoGrEE/VhDN95o7BEPXV0Gzc8OTZyeCBPb/Ipqs9QLsS2OpeiyKiQrU7CjZX7DH+HDARNMpSgA2Pl1pFIy2KKRZwLqnRi06iBbfwz4J6kOL6U27kWVOvEpt7njb+A5mFxIKgaWic21T5hXStD9PBH0F53Oyd5ULUTm8saxR8bfJxMjaA1JPN71R9BHa9BVU5s6i0gn18PPzwpqE5zkloAQRVROLGpHYIvj1xICFrUUtdfIKg99HNEB2e//IM34i9YXur6gnTmgKBqKFXL815gejmi2ZGUoOrNSaqDfObwRVDXqMy6NgJzveYklUE+c0BQRUpyZsjmJL4inzkgqBqoli8W6cwBQa0h6jkPFJHOHBDUFuKe8zqgP6gACKpKzjXE4p7z2dS2OlmDPBce3xJuLwpqPrOogKB51xCb9JxPVyfXstwuc+bIcWFv8fbe4r10EnKpYSzozplGl1TjHMWHckHuLa8GPecFNtZS0ExyXGBqtm4HjxLNkLa+/h3zEXSJHQTdOXOic5TJ4KFckCuooOe8wudkv/Q/p2b/sQoh3wdREHTtZvIkZfsXvzWf4rtnPh++MN87sqz5UE7IvYbYoOd8urikrrvw8v/vPBda3M61+Ai6dGKINainguZXEhv0nEd1coQ0ssxzIVyEBq3peO/trdcfDBMkRVO84PSn4kNVmJqW2xkHSUKWeIiT7B6SRTyKZy11wiBrKd0jd4iHKpgiohfBwgtJpySGLtQuzVSEoIKFV13XoHIgqAoFhdfphVd974uX7YO42Ela6kzxcsgJWszQJlp41TUDKt0HcSBoL0iSQlBQFSwsA+q6Fy9PM5cvaD/NJP1wioIqhNfYBjIGgg5Lfnhtsk7NKUCpEdJ9EAdTPG8y6tsUr3bkQ3OdKlp4Dd89x09kexYuRtCoWKTh0U5SEeG1aF5Db6YEqAdVRGllqTdlCwTFMjYJBFVDKbzOqxlNkl541VdQWdcgB4LyC8Lk83tAUlAVckvyUqQXXnWd4qX/3+ULKi8D7VEbQQXUM0iSzxzO0kxZUBRUpcwot2YUSKAkqMI2PkFB1bp6ob7TFGnXIBd50IzVZweCgpbT1Wu2fpucHeRdgxAkqWG9q9fz6+l/EnaaabmehkrJc+HpccE1mO1rDWmxsZD4FJ9b6kxQUKWuXlrl8BuprArfDKhvwZ2YHBfaEyfbExd3zl2MvTpzXnTXTAYVCJIUunppl8PPxh3lK9ya9gQ37Q/K1Jw7GWy+PKjjzju6s5D/QZIKBjWjbKLv/aEaCyr/3lYQ9P4rwWZsit96/ZdDTPH9K+mkeCqo2ezMW9Vzaiyo+bHjOW7n/dgIym7l3HrdfIrPrhRReKjyUQuv9UOocATtrxpqLKhx4wa2CA3mxr740eBrTE7RfXJyfN+LVwuvdcvhY3YGWbmW6iP93jZxYee7VgXdfn8hCHavNE+vDvNQRVJIeL1Rvz7KGdi9RGFmmCk+yXrzzYVg/8bVYOWtoR6qQBTnXi2FRXnQ+iL/4hq5EC4jc3eDYmQIeufU78MRdPfDhc5Iav5QBaIoKA61G2MeJNkhd4rfvrQa7H4wxR6IUcpDqaMaveB4kSnmQZIdcgVdPx0JyvBU0LqeGbbBk284Pf6jMYIy6AmK9WKx2G0epk+uoLTXoMAdRATdv3GZcBSvTD3L4QuFiKC086Cq1PVAUZEQEDSNp4LW90jmcGQu8SGoPSBoAUBQi2CKtw8EVUA5zYQgyToQVJHu6IjNzJKBoGpgfekICKpGrqDYbRoG0nvxaQgKqhYAoVrEEPNqJmEh6dYRe+V2Jg/lhA1J+7VBIKgppjfNCTu+sGp66S1xQqogqAoQ1BDjYhFhxxd+Jknr6LH/gqpVy0NQ6ygImur4UscRVC3BBEGtk+eCsOPLzpmGlp8VEFTNPQhqjOlNc6KOL1uvTSq0qBvEf0HVquUhqClWb5pjfZnqdS5eAeRBh8HuRV51HEFBoVi+ae5hY5jeTPmQFBSFIEVC6aa5fCgKilK6YqFz05wCBAVFsYgjIKgaENQREFQRTPGFgTNJVkCQ5AQICkgDQQEFeCJUtMUBQRXAUaTCmT3MVvnLdrY69amCoAjgC+SgsxFP4q5OBSBo3TjobCNBUDMgaNE8v/4Gu052FlO8ERC0cJ4cGznML1NJAkEVgKDugKAKoNbTHRAUEODgrOzSKAgKSDA7MiI8LwNBARHYQgoFy4AwTNHkIh+CAiIsj4wcDlKpJggKKMCuLhWWhENQQICDszav49YHgoJM0B8UkIb0bcdpIGjtMO0PagkICjIhfZlsGggKIiAoIA0EBRQQ3oXAgKCAAKLOoB0gKCAA0kyANEjUA9pID9RAUOAaNA8D/gJBAWkgKHAPD+KfXxftx0NQ4JwnxzpnkWbR3Q5QpNfxBq1vAEH6WXo0DwMEgaCANOw+2A6CsmUqgq40m803F7rvQNB6sdwdOPum9qEi6J2rA+9A0JoxyzszHZyl235x/+OpgfcgaN3g5aDC/mFEBN29Ek7xfBB9lVH8EwFPICLo9ntTA6MoBAURRATl9NahEBREQFBAGiKCrp9eDfY/QZoJJCEiKMuDnuoF8hAURFARNAYEBREQFJAGggLSQFBAGggKSANBAWkgKCANBAWkgaCANBAUkAaCAtJAUEAaCApIA0EBaSAoIA0EBaSBoIA0EBSQBoIC0kBQQBoICkgDQQFpICggDQQFpIGggDQQFJAGggLSQFBAGggKSANBAWkgKCANBAWkgaCANBAUkAaCAtJAUEAaCApIA0EBaSAoIA0EBaSBoIA0EBSQBoIC0kBQQBoICkgDQQFpICggDQQFpIGggDQQFJAGggLSQFBAGggKSANBAWkgKCANBAWkgaCANFQE3b3SPL0avQNBQQQRQfdvXA1W3oreg6Aggoigux8uBNvvL3Tfg6Aggoig25dWg90PpsK3XmWU8EjAD4gIun46EpQBQUEEEUH7IygDgoIIIoJiDQrEEBF0/8ZlRPFAABFBkQcFYqgIGgOCgggICkgDQQFpICggDQQFpIGggDQQFJAGggLSQFBAGpqCAhBRjJEJNAUtGz9GbC+e0ouHTANBLeDFU3rxkGkgqAW8eEovHjINcUFB3YGggDQQFJAGggLSQFBAGsqCrjebby7kf5hzWPMV4qw0PflapiAsKDtL2j+uR5iVJnlB75B/QhmEBWX0DzzTZftnP6f+z7//8VT+B9GEuKAejKD7H/+B/BS/eyWc4qk/pBjSgm6/e4r+d/7KZfpr0O33pnwdRUkLGgw03aHK9qVV+oJy/FyHEheU/leVxcfN5mXXj6EA+S+lEMKCxvvqEYb+CMq+lPuf0I83BRAWlA1OHqxBfRDUmy9lGsqCAgBBAW0gKCANBAWkgaCANBAUkAaCGvLfv7h+gnoAQc3Yem3S9SPUAwhqBgQtCQiqTvvaiSB42DgfBDOfO9JonHD9PLUAgmqw9OKDYOZrJ0JTz2MELQkIqsHW0fn2L3794oPwVwhaEhBUAzZyvv6Pd+bDkRSClgQE1WFm9OFo+9pPwrUoBC0JCKrDwxd/eT5Y+sLbkxC0LCCoDjtnDk2GcXwYK+2cOe/6YeoBBNVihrvJEkwzjVHXD1MLICggDQQFpIGggDQQFJAGggLSQFBAGggKSANBAWkgKCANBAWk+T9H8d8XFw7KxwAAAABJRU5ErkJggg==" style="display: block; margin: auto;" /></p>
</div>
<div id="normalised-parent-coordinates" class="section level3">
<h3>Normalised Parent Coordinates</h3>
<p>R’s ‘grid’ package defines several units that can be used to describe the locations of plot elements. In ‘ggplot2’ the <em>x</em> and <em>y</em> aesthetics are directly mapped to <code>&quot;native&quot;</code> or data units. For consistent location of <strong>annotations</strong> with respect to the plotting area we need to rely on <code>&quot;npc&quot;</code> which are expressed relative to the size of the grid viewport. The plotting area in a ggplot is implemented as a ‘grid’ viewport and support for <code>&quot;npc&quot;</code> coordinates is relatively easy to implement.</p>
<p>To support <code>&quot;npc&quot;</code> positions we have implemented <em>scales</em> for two new (pseudo) <em>aesthetics</em>, <code>npcx</code> and <code>npcy</code>. These are very simple continuous scales which do not support any transformation or changes to their limits, both of which would be meaningless for <code>&quot;npc&quot;</code> units. Variables mapped to these aesthetics can be either numerical with values in the range zero to one or character. A limited set of strings are recognised and converted to <code>&quot;npc&quot;</code> units: <code>&quot;bottom&quot;</code>, <code>&quot;center&quot;</code>, <code>&quot;top&quot;</code>, <code>&quot;left&quot;</code>, <code>&quot;middle&quot;</code>, <code>&quot;right&quot;</code> (<code>&quot;centre&quot;</code> is a synonym for <code>&quot;center&quot;</code>).</p>
<p>To make these scales useful we need also to define <em>geometries</em> that use these new aesthetics. Package ‘ggpp’ currently provides <code>geom_text_npc()</code>, <code>geom_label_npc()</code>, <code>geom_table_npc()</code>, <code>geom_plot_npc()</code> and <code>geom_grob_npc()</code>.</p>
<p>As is the case for <code>geom_text()</code> and <code>geom_label()</code> from package ‘ggplot2’, <code>&quot;bottom&quot;</code>, <code>&quot;center&quot;</code>, <code>&quot;top&quot;</code>, <code>&quot;left&quot;</code>, <code>&quot;middle&quot;</code>, <code>&quot;right&quot;</code>, plus <code>&quot;inward&quot;</code> and <code>&quot;outward&quot;</code> can be used, as well as numeric values, to control the justification. Justification defaults to <code>&quot;inward&quot;</code> in the geometries described here.</p>
<p>While the usual <em>x</em> and <em>y</em> aesthetics are used whenever the positions of plot elements represent data values, these new scales and geometries are useful only for annotations, i.e., in those cases when we want plot elements at specific positions within the plotting area irrespective of the ranges of the data mapped to the <em>x</em> and <em>y</em> aesthetics. When writing scripts or functions that may be applied to different data sets these new <em>aesthetics</em> help by keeping the code concise and reusable. These <em>geometries</em> are used by default by several of the statistics described in later sections and those defined in package ‘ggpmisc’.</p>
<p>As an example let’s imagine that we want to add the structure of a metabolite to a plot. Its position has nothing to do with the data mapped to <em>x</em> and <em>y</em>, so it is conceptually better to use <code>&quot;npc&quot;</code> coordinates. The big practical advantage is that this also allows to keep this part of the plot definition independent of the data being plotted, giving a major advantage in the case of plots with facets with free scale limits. This example can be easily adapted to <code>geom_plot_npc()</code> where a list of ggplots is mapped to <code>label</code>, and to <code>geom_table_npc()</code> where a list of data frame is mapped to <code>label</code>.</p>
<p>We produce the example plot by first constructing a tibble to contain the grob and the coordinate data, and then map these variables to aesthetics using <code>aes()</code>. In the example the tibble has a single row, but this is not a requirement. In this respect these geoms behave as normal geoms, with facets also supported.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>file.name <span class="ot">&lt;-</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;Robinin.png&quot;</span>, </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">package =</span> <span class="st">&quot;ggpp&quot;</span>, <span class="at">mustWork =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>Robinin <span class="ot">&lt;-</span> magick<span class="sc">::</span><span class="fu">image_read</span>(file.name)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123456</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>data.tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">y =</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">20</span>, <span class="dv">0</span>, <span class="dv">10</span>))</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>flavo.tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fl">0.02</span>,</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> <span class="fl">0.95</span>,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">width =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">height =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">grob =</span> <span class="fu">list</span>(grid<span class="sc">::</span><span class="fu">rasterGrob</span>(<span class="at">image =</span> Robinin)))</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data.tb, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_grob_npc</span>(<span class="at">data =</span> flavo.tb, </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">label =</span> grob, <span class="at">npcx =</span> x, <span class="at">npcy =</span> y, </span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>                    <span class="at">vp.width =</span> width, <span class="at">vp.height =</span> height)) <span class="sc">+</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">55</span>, <span class="at">x =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Alternatively, we can pass constant values to <code>geom_grob_npc()</code> to obtain the same plot. This approach can be handy in simple cases.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data.tb, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_grob_npc</span>(<span class="at">label =</span> <span class="fu">list</span>(grid<span class="sc">::</span><span class="fu">rasterGrob</span>(<span class="at">image =</span> Robinin, <span class="at">width =</span> <span class="dv">1</span>)), </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">npcx =</span> <span class="fl">0.02</span>, <span class="at">npcy =</span> <span class="fl">0.95</span>,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">vp.width =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="at">vp.height =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">55</span>, <span class="at">x =</span> <span class="dv">0</span>)</span></code></pre></div>
<p>We can also use <code>annotate()</code> if the annotation should be the same for all panels, or if we have a single figure panel. In this case there is no need to wrap a single <code>grob</code> in a list.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data.tb, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;grob_npc&quot;</span>, <span class="at">label =</span> grid<span class="sc">::</span><span class="fu">rasterGrob</span>(<span class="at">image =</span> Robinin, <span class="at">width =</span> <span class="dv">1</span>), </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">npcx =</span> <span class="fl">0.02</span>, <span class="at">npcy =</span> <span class="fl">0.95</span>, <span class="at">vp.width =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="at">vp.height =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">55</span>, <span class="at">x =</span> <span class="dv">0</span>)</span></code></pre></div>
<p>Two additional geometries are based on existing ‘ggplot2’ geometries. They are based on <code>geom_text()</code> and <code>geom_label()</code>. We give an example using <code>geom_text_npc()</code> to produce a “classic” labelling for facets matching the style of <code>theme_classic()</code> and traditional scientific journals’ design.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>corner_letters.tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">label =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>],</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">x =</span> <span class="st">&quot;left&quot;</span>, </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y =</span> <span class="st">&quot;top&quot;</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">cyl =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">8</span>))</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cyl, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_npc</span>(<span class="at">data =</span> corner_letters.tb,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">npcx =</span> x, <span class="at">npcy =</span> y, <span class="at">label =</span> label)) <span class="sc">+</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text.x =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="marginal-markings" class="section level3">
<h3>Marginal markings</h3>
<p>‘ggplot2’ provides <code>geom_rug()</code>, <code>geom_vline()</code> and <code>geom_hline()</code>. Rug plots are intended to be used to represent distributions along the margins of plot. <code>geom_vline()</code> and <code>geom_hline()</code>are normally used to separate regions in a plot or to highlight important values along the <em>x</em> or <em>y</em> axis. When creating plots it is sometimes useful to put small marks along the axes, just inside the plotting area, similar to those in a rug plot, but like <code>geom_vline()</code> and <code>geom_hline()</code> in their purpose.</p>
<p>Three <em>geometries</em> provide such markers: <code>geom_margin_point()</code>, <code>geom_margin_arrow()</code>, and <code>geom_margin_grob()</code>. They behave similarly to <code>geom_vline()</code> and <code>geom_hline()</code> and their positions are determined also by the <code>xintercept</code> and <code>yintercept</code> aesthetics.</p>
<p>In the example below we indicate the group medians along the <em>x</em> axis with filled triangles.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>data.tb <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">hwy =</span> <span class="fu">median</span>(hwy), <span class="at">displ =</span> <span class="fu">median</span>(displ))</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_x_margin_point</span>(<span class="at">data =</span> data.tb,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(<span class="at">xintercept =</span> displ, <span class="at">fill =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="statistics" class="section level2">
<h2>Statistics</h2>
<div id="stat_centroid" class="section level3">
<h3>stat_centroid()</h3>
<p>It can be useful to mark the centroid of a group of observations with a point or with a label. By default <code>stat_centroid()</code> applies function <code>mean_se()</code> to both <code>x</code> and <code>y</code> by group. If the value mapped to an aesthetics across rows within each group is unique this value is copied to the returned <code>data</code>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.33</span>) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_centroid</span>(<span class="at">shape =</span> <span class="st">&quot;cross&quot;</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Other functions can be passed to this statistic as long as they return a single value that can be mapped to the <code>x</code> and <code>y</code> aesthetics (numeric, time or a factor).</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.33</span>) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_centroid</span>(<span class="at">shape =</span> <span class="st">&quot;cross&quot;</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">.fun =</span> median)</span></code></pre></div>
<p>The very similar <code>stat_summary_xy()</code> accepts different functions for <code>x</code> and <code>y</code>.</p>
</div>
<div id="stat_quadrant_counts-and-geom_quadrant_lines" class="section level3">
<h3>stat_quadrant_counts() and geom_quadrant_lines()</h3>
<p>This statistic automates the annotation of plots with number of observations, either by quadrant, by pairs of quadrants or the four quadrants taken together (whole plotting area). Its companion geometry, <code>geom_quadrant_lines()</code> is used in the examples to highlight the quadrants.</p>
<p>We generate some artificial data.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4321</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># generate artificial data</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">99</span><span class="sc">:</span><span class="dv">100</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(x), <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="fu">abs</span>(x))</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>my.data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>                      y, </span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">group =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</span></code></pre></div>
<p>Using defaults except for color.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my.data, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quadrant_lines</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_quadrant_counts</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">250</span>, <span class="dv">250</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Pooling quadrants along the <em>x</em>-axis. (<code>pool.along = &quot;y&quot;</code> pools along <em>y</em>.)</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my.data, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quadrant_lines</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="at">pool.along =</span> <span class="st">&quot;x&quot;</span>) <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_quadrant_counts</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="at">pool.along =</span> <span class="st">&quot;x&quot;</span>) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p>Manual positioning of the text annotations and pooling of all four quadrants, and overriding the default formatting for the label.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my.data, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_quadrant_counts</span>(<span class="at">quadrants =</span> 0L, <span class="at">label.x =</span> <span class="st">&quot;left&quot;</span>, </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%i observations&quot;</span>, <span class="fu">stat</span>(count))))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Annotation of only specific quadrants.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my.data, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quadrant_lines</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_quadrant_counts</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="at">quadrants =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p>Using facets, even with free scale limits, the labels are placed consistently. This achieved by the default use of <code>geom_text_npc()</code> or as shown below by use of `geom_label_npc(). We expand the <em>y</em> limits to ensure that no observations are occluded by the labels.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my.data, <span class="fu">aes</span>(x, y, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quadrant_lines</span>() <span class="sc">+</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_quadrant_counts</span>(<span class="at">geom =</span> <span class="st">&quot;label_npc&quot;</span>) <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">260</span>, <span class="dv">260</span>)) <span class="sc">+</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>group)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="stat_apply_group" class="section level3">
<h3>stat_apply_group</h3>
<p>This statistic applies functions to <code>x</code> and <code>y</code> data. The function(s) supplied as argument are expected to return a numeric vector. Both functions should return vectors of the same length. When possible it is usually better to apply functions through mappings using <code>aes()</code> when they are independent of grouping, or to use a transformation for the scale. However, when grouping is important, these statistics make it possible to avoid pre-computation of the data for a layer.</p>
<p>Here we plot the difference in trunck circumference between dates for each tree. (As the vector returned by <code>diff()</code> is one element shorter than its input, we delete the first value of <code>x</code> in <code>.fun.x</code>.).</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Orange, <span class="fu">aes</span>(age, circumference, <span class="at">colour =</span> Tree)) <span class="sc">+</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_apply_group</span>(<span class="at">.fun.x =</span> <span class="cf">function</span>(x) {x[<span class="sc">-</span>1L]},</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.fun.y =</span> diff)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="stat_dens2d_labels-and-stat_dens2d_filter" class="section level3">
<h3>stat_dens2d_labels() and stat_dens2d_filter()</h3>
<p>These stats had their origin in an enhancement suggestion for ‘ggrepel’ from Hadley Wickham and discussion with Kamil Slowikowski (ggrepel’s author) and others. In fact the code is based on code Kamil gave during the discussion, but simplified and taking a few further ideas from <code>ggplot::stat_dens2d</code>.</p>
<p><strong>Warning!</strong> Which observations are selected by the algorithm used, based on <code>MASS:kde2d</code>, depends strongly on the values of parameters <code>h</code> and <code>n</code>. You may need to alter the defaults by passing explicit arguments to these stats. Beware, though, that what are good values, may depend on individual data sets even if they include the same number of observations. For the selection of observations to work cleanly, the argument for <code>n</code> must create a dense grid. Much larger values of <code>n</code> than in the examples in the documentation of <code>MASS::kde2d</code> and <code>ggplot2::stat_dens2d</code> will be needed in most cases.</p>
<p>Some random data with random labels.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>random_string <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">len =</span> <span class="dv">3</span>) {</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">sample</span>(letters, len, <span class="at">replace =</span> <span class="cn">TRUE</span>), <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Make random data.</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1001</span>)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">50</span>)),</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">lab =</span> <span class="fu">replicate</span>(<span class="dv">100</span>, { <span class="fu">random_string</span>() })</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The stat <code>stat_dens2d_filter</code> <em>filters</em> observations, in other words passes to the geom a subset of the data received as input. The default argument for <code>geom</code> is <code>&quot;point&quot;</code>.</p>
<p>Using defaults except for the color aesthetic. Highlight 1/4 of observations from lowest density areas of the plot panel.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_filter</span>(<span class="at">keep.fraction =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAllBMVEUAAAAAADoAAGYAOpAAZrYzMzM6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmtv9uTU1uTW5uTY5ubqtuq+SOTU2OTW6OTY6OyP+QOgCQtpCQ2/+rbk2ryKur5P+2ZgC2/7a2///Ijk3I///bkDrb///kq27k////AAD/tmb/yI7/25D/5Kv//7b//8j//9v//+T////0mONJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAALAElEQVR4nO3dC3fURByG8YCirlIEBKyKRVouS10K+f5fTrK0uM0m6cxkLu9/5vkdj0cOm81k83Qye+na9YCwrvQAgCUECmkECmkECmkECmkECmk+gT4AsgkJ1OO2wCoECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkEKmu73ZYeggACVbXdUmhPoLoIdI9AVRHoHoHKos8BgUIagUIagUIagRbHWnMJgZbGs/VFBFoagS4i0NIIdBGBFkefSxwD3T3ebE7H2wDJuQV69eKs3z05G20DJOcW6OXJl3+d30yhBIps3Negwyx6/cVhSUcEHHAO9PPLZ+NtgORcA716/q1PAkU+zs/iT///A4EiG7dAb/VJoMjHLdB3mwHP4pEd7yRBGoFWqKY3Twm0PlV9/IRA60OgKQaCaAg0xUAQT0V9Eii0ESikESikESikESikESikEaiOml4dioZAZVT1+no0BCqDQKcQqAwCnUKgOuhzAoFCGoFCWuRAuUohrriBss5HZAQKaQQKaaxBIY1n8ZBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoF/xOUFRBLrHJ61VEegegaoi0D0CVUWgX9GnKAKFNAKFNAKFNAKFNAKFNAKFNAKFNAKFNAKFNAINxXtPWRBoIN69z4NAAxFoHgQaiEDzINBQ9JkFgUZCr2kQaBwTV3ySjYFA4zgOlEVqFAQaB4EmQqCRTF3hCXQ9Ak2GPmMgUEgjUEgjUEgjUEgjUEgjUEgjUEgj0EHX+Rw/MiLQft8nhYoi0J5AlRFoT6DKnAPdPb0Yb1MP+pTlGujl5pfMgfJZC/TOgZ7//HfmGbS9T6sdHm9rxz7P9xL/YJB0RNeaC/TwgJs7+Hmya9DmzhGBTpINtLmrHIFO0g20OaxBpxAopBEopPFOEqQRKKQRKKQRKKQRKKQRKKS1FygfrTOluUD5cLItBAppBAppzQXKGtSW9gKFKQR6M6cys0oi0OtVKWtTTQRKoNIIlEClEehNmvQpiUBJUxqBQhqBQlq1gXLdrkOtgfKkvBIEmk+BEdn/AoiGAi1dbIyfGc97qOArdGoN9PhUFp9TIwzA9y4I1BACNYlAs45g/T14X+NX7rK0dgKd66N0tl5MDTaKhgKdVn5ixRICJVBpBEqg0poPtMFlnSkECmnNBJpxomROjqjiQG8tLjMuNVnVxlRvoN2tUAjUKAJNs+M8u2pAK4GyBjXKeKBLLTCR1cB2oEpXU52RVIVAIxEaSlUINBKhoVTFdqBC19U1geochR6bgSqe0VV9Ch6PCJOBVnZGKzucuKYC/fjo3l8u2xRT2Rmt7HDimp5BX3Xdd2/v3KaY2s5obccT09wl/uOjrvvpjm3Kqex8Eui8+TXokOj910vbVKVkIgQ6by7QN133/ZdL/eSFvsZA3RtJ0RJ9zpoM9NMfXffr8B8fJqfQpgNltstr+ln89KV9vE1Nag3U/Dc3mHwdNAWPK7yhQO1/9w2B+rLUJ4EGkX/MTDW4yC9QxRNTINDxgyaXg62r+DLPPvUKLR+oXg6JR6R2uN8Q6FeNB6p3vDcI9NrRFV7thKWeQNWO94ZgnwrP4mXPVxrCgSoSCLQ19OmDQCGNQCGNQCGNQCHNfqD2nnPYG3FBMoGGnrWSr9qE7ZnXmXyoBBp81gqe7sBdL21GumMEGi5+oAKTq9q7SYKBep6jolf48Gv85IblA5V7P14l0P6wz3gnKe35nrv3O/c6d4wEekQm0G9inqQyJ/zuvS5NocH7DNtwhEDv1HSg6XbpqkCfi7t0DPTq+ebh+/E2icS9wksGGn3pUX5tEG550nYL9PPL0/7dyXgbA8qctvx7bT3Qq98v+t3Ti9E2mdk9BRkYfnBiBLr77X1/9eJsuP0g3uA8WJ4ksCTCGvTy4U2gh9vkRaBN8p1BD7fJi0CbxBoU0lyfxT+z+Swe1gm+Dgr8T++dJOAAgUIagSrjeSGBKuOVNQKVRqA1BlrROSXQCgOt6qRWdCihCNS6yg+XQBPJNQqV403FcKAev9aT+Rx23fwvbibZV44dFWI3UI8zk/kkdgQaD4HGlzVQ1qDz25SlH2i+PVbMbqA+U0f+NWjO3VXNcKBoAYGGY6LMgECDsc7MgUCDzQRKtVERaLDpQJlX4yLQcHMTKIFGRKCREWhcBBobfUZFoGmQaSQEmgQX+lhaDjRhQwQaS8OBpoyIQGMh0GR3nuqu29JSoKNo/AOluvwaCvQoyFt/dIiP63YBLQfq/Jcet0FkBOrwlx63QWQNBbp4FXeKb22f9O2vpUAXZYiHGTgAgaZyHKNnoNQ8qDpQv1McN4iJGv0CZb7dqznQokFM3d3yDla/TFslAg27dfy7G29AoHsEGnZrp/vzvf3C+wjNqjnQomtQb8yYk6oO1Bb6nNJUoCRgT0uBchE1iEAhjUAhraVAWYMa1FSgAWi6MAJdxKqgNAJdVGOgto6IQBdVGOjsIW2329xjcUCgy6rrczbQ7VayUAJtDYE2TGu+nRnN/BWeQCuntWL1HY1knwQak0qgX0ehMpp1LASa40c7yrkUSeJ6GCKjWclAoDkWRx4nc+mGGkXcHIzGaFYi0D33QA3MSwaG6E4k0KUEkwfaXXO/ccrRRHA4Qv3RLtMIdLlBpT5NBHrA2HCPWQg0Mc9zaOuEE2gUlgK1xfzBaQRa9kVi46dwmfWDEwkUmEagkEagUVm/oOoh0JjMPyXRQ6AxEWh0BBoTgUZHoFG59UnF7gg0P+ZZDwSaH4F6IND8CNQDgRZAn+4IFNKcA909vRhv0x6mvuxcA73c/EKgLB7zcwz0/Oe/mUEJtADfS/yDQdIRCSPQ/FiD+mi2z3IfKL870PPN5qQnUBfV9lvwV3KYQeNJuQIo2z6BViFhoIVXvwRahXoDlV6Dzm+Dkbsico9sfMvSgZZDoPms+X6dVvsk0Izq+gKoTIwEqvntv54INICNQEW/P/0u4ddp+rxBoOkwD0ZAoD78giPQCGwEKrIG9f+iRgJdy0igGnyLo8/1CNQDU2J+BOqDPrMj0CNUqIRAx7iOSyHQMQKVQqBjBCqFQI/QpxIChTQChTQChTQChTQChTQChTQChTQCLU3jo66yCLQwlV8WUEWghRHoMgItjECXEWhp9LmIQCGNQCGNQCGNQCGtskB5xlGbugLlNZvqECikESik1RUoa9DqVBYoakOgkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkBYUKJBNQKBRGZ+OjQ/fzvgJNIzx4dsZP4GGMT58O+Pnf2wBaQQKaQQKaQQKaQQKaaUC3T3ebE4L7Xu1q+ebh+9LD2IFSw9+oUCvXpz1uydnZXa+1ueXp/27k9KjCGfqwS8U6OVwfs+t/BSPXP1+0e+eXpQeRjBTD37BNejwg2zS7rf3dgd/zcz4ywX6+eWzYvte5/Kh+UDtPPgFAj3fbE6GJxpWHqIj9mdQQw9+uWfxRtZAE6yvQU09+IUCtfQQHRmuj5afxZt68AsF+m4zMPQ43WL8dVBTDz7vJEEagUIagUIagUIagUIagUIagUIagUIagUIagSb15t5f/cdHP5UehmEEmtar74d/EIxA0/r3hz9/fF16EJYRaGJvul9LD8E0Ak3sVccVfg0CTevD/X8eMYWuQKBJffxS54f7LELDEWhSr75723/6g4t8OAKFNAKFNAKFNAKFNAKFNAKFNAKFNAKFNAKFNAKFtP8AG/hXibwQhd8AAAAASUVORK5CYII=" style="display: block; margin: auto;" /></p>
<p>Keep at most 50 observations.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_filter</span>(<span class="at">keep.fraction =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="at">keep.number =</span> <span class="dv">50</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p>Keep always 50 observations.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_filter</span>(<span class="at">keep.fraction =</span> <span class="dv">1</span>, <span class="at">keep.number =</span> <span class="dv">50</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p>Highlighting 1/4 of the observations by under-plotting with larger black points.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">stat_dens2d_filter</span>(<span class="at">keep.fraction =</span> <span class="fl">0.25</span>,</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>()</span></code></pre></div>
<p>A different way of highlighting 1/4 of the observations, using over-plotting with a ‘hollow’ shape. We also shift one group with respect to the other.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x <span class="sc">+</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="dv">2</span>), <span class="fu">rep</span>(<span class="dv">50</span>,<span class="dv">2</span>)), </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>                     y, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">stat_dens2d_filter</span>(<span class="at">shape =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">keep.fraction =</span> <span class="fl">0.25</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Highlight 1/4 of observations from lowest density areas of the plot, with density considered separately for each individual group. In this case grouping is based on the color aesthetic.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x <span class="sc">+</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="dv">2</span>), <span class="fu">rep</span>(<span class="dv">50</span>,<span class="dv">2</span>)), </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>                     y, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">stat_dens2d_filter_g</span>(<span class="at">shape =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">keep.fraction =</span> <span class="fl">0.25</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The stat <code>stat_dens1d_labels</code> <em>replaces</em> the values of the label (aesthetic) variable in <code>data</code> based on density of observations along the <em>x</em> or <em>y</em> axis in the plot panel. The replacement is given by the argument passed to <code>label.fill</code>, which can be a character string or a function accepting a character string as argument and returning also a character string.</p>
<p>The default value for <code>geom</code> is <code>&quot;text&quot;</code>. The default value of <code>label.fill</code> is <code>&quot;&quot;</code> which results in empty labels, while using <code>NA</code> as fill label results in observations being omitted. Using <code>NA</code> as <code>label.fill</code> is similar to using <code>stat_dens2d_filter</code> as long as the geom used requires a <code>label</code> aesthetic.</p>
<p>Label 1/10 of observations from lowest density areas of the plot panels.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y, <span class="at">label =</span> lab, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_labels</span>(<span class="at">keep.fraction =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>, </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">hjust =</span> <span class="st">&quot;outward&quot;</span>, <span class="at">vjust =</span> <span class="st">&quot;outward&quot;</span>) <span class="sc">+</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p>Using the geoms from package ‘ggrepel’ avoids clashes among labels or on top of data points. This works with versions 0.6.0 and newer of ‘ggrepel’. One example with <code>geom_text_repel</code> follows.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y, <span class="at">label =</span> lab, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_labels</span>(<span class="at">geom =</span> <span class="st">&quot;text_repel&quot;</span>, </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">keep.fraction =</span> <span class="fl">0.45</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>With <code>geom_label_repel</code> one usually needs to use a smaller value for <code>keep.fracton</code>, or a smaller <code>size</code>, as labels use more space on the plot than the test alone.</p>
<p>Additional arguments can be used to change the angle and position of the text, but may give unexpected output when labels are long as the repulsion algorithm “sees” always a rectangular bounding box that is not rotated. With short labels or angles that are multiples of 90 degrees, there is no such problem. Please, see the documentation for <code>ggrepel::geom_text_repel</code> and <code>ggrepel::geom_label_repel</code> for the various ways in which both repulsion and formatting of the labels can be adjusted.</p>
<p>Using <code>NA</code> as argument to <code>label.fill</code> makes the observations with labels set to <code>NA</code> <em>incomplete</em>, and such rows in data are skipped when rendering the plot, before the repulsion algorithm is active. This can lead to overlap between text and points corresponding to unlabelled observations. Whether points are occluded depends on the order of layers and transparency, the occlusion can remain easily unnoticed with <code>geom_label</code> and <code>geom_label_repel</code>. We keep <code>geom_point</code> as the topmost layer to ensure that all observations are visible.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y, <span class="at">label =</span> lab, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_labels</span>(<span class="at">geom =</span> <span class="st">&quot;label_repel&quot;</span>, </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">keep.fraction =</span> <span class="fl">0.2</span>, </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">label.fill =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
</div>
<div id="stat_dens1d_labels-and-stat_dens1d_filter" class="section level3">
<h3>stat_dens1d_labels() and stat_dens1d_filter()</h3>
<p>These stats are similar to <code>stat_dens2d_labels()</code> and <code>stat_dens2d_filter()</code> but compute the density in a single dimension, either the <em>x</em> or <em>y</em> aesthetics.</p>
<p><strong>Warning!</strong> Which observations are selected by the algorithm used, based on <code>stats::density</code>, depends strongly on the values of parameters <code>bw</code>, <code>adjust</code> and <code>kernel</code>. You may need to alter the defaults by passing explicit arguments. Beware that what are good values, may depend on individual data sets even if they include the same number of observations. For the selection of observations to work cleanly, the argument for <code>n</code> must large enough to generate a dense grid or the bandwidth may need to be increased by passing a number &gt; 1 as argument. Increasing the bandwidth makes the empirical density function smoother, and the selection of points less dependent on immediate neighbors.</p>
<p>We use the same data as in the previous sections.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>random_string <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">len =</span> <span class="dv">6</span>) {</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">sample</span>(letters, len, <span class="at">replace =</span> <span class="cn">TRUE</span>), <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Make random data.</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1001</span>)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">50</span>)),</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">lab =</span> <span class="fu">replicate</span>(<span class="dv">100</span>, { <span class="fu">random_string</span>() })</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The stat <code>stat_dens1d_filter</code> <em>filters</em> observations, in other words passes to the geom a subset of the data received as input. The default value for <code>geom</code> is <code>&quot;point&quot;</code> and the default <code>orientation</code> is <code>&quot;x&quot;</code>.</p>
<p>Using defaults except for the color aesthetic, we highlight 1/4 of observations from lowest density region along the <em>x</em> axis of the plot panel.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens1d_filter</span>(<span class="at">keep.fraction =</span> <span class="fl">0.25</span>,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We repeat the example above, we highlight 1/4 of observations, but now from lowest density region along the <em>y</em> axis of the plot panel.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens1d_filter</span>(<span class="at">keep.fraction =</span> <span class="fl">0.25</span>,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">orientation =</span> <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<p>In other respects than <code>orientation</code> and the parameters passed internally to <code>stats::density()</code> the examples given earlier for <code>stat_dens2d_filter()</code> also apply.</p>
<p>The stat <code>stat_dens1d_labels</code> <em>replaces</em> the values of the label (aesthetic) variable in <code>data</code> based on density of observations along the <em>x</em> or <em>y</em> axis in the plot panel. The replacement is given by the argument passed to <code>label.fill</code>, which can be a character string or a function accepting a character string as argument and returning also a character string.</p>
<p>The default value for <code>geom</code> is <code>&quot;text&quot;</code>. The default value of <code>label.fill</code> is <code>&quot;&quot;</code> which results in empty labels, while using <code>NA</code> as fill label results in observations being omitted. Using <code>NA</code> as <code>label.fill</code> is similar to using <code>stat_dens2d_filter</code> as long as the geom used requires a <code>label</code> aesthetic.</p>
<p>Label 1/10 of observations from lowest density regions along <em>x</em> in the plot panel. Normally a repulsive geom is most useful.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y, <span class="at">label =</span> lab, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens1d_labels</span>(<span class="at">geom =</span> <span class="st">&quot;text_repel&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Similarly along the <em>y</em> axis.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> d, <span class="fu">aes</span>(x, y, <span class="at">label =</span> lab, <span class="at">colour =</span> group)) <span class="sc">+</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens1d_labels</span>(<span class="at">geom =</span> <span class="st">&quot;text_repel&quot;</span>, <span class="at">orientation =</span> <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<p>In other respects than <code>orientation</code> and the parameters passed internally to <code>stats::density()</code> the examples given earlier for <code>stat_dens2d_labels()</code> also apply.</p>
</div>
</div>
<div id="nudge-position-functions" class="section level2">
<h2>Nudge position functions</h2>
<p>Nudging shifts deterministically the coordinates giving an <em>x</em> and/or <em>y</em> position and also expands the limits of the corresponding scales to match. By default in ‘ggplot2’ geometries and position functions no nudging is applied.</p>
<p>Function <code>position_nudge()</code> from package ‘ggplot2’ simply applies the nudge, or <em>x</em> and/or <em>y</em> shifts based directly on the values passed to its parameters <code>x</code> and <code>y</code>. Passing arguments to the <code>nudge_x</code> and/or <code>nudge_y</code> parameters of a geometry has the same effect as these values are passed to <code>position_nudge()</code>. Geometries also have a <code>position</code> parameter to which we can pass an expression based on a <em>position function</em> which opens the door to more elaborate approaches to nudging.</p>
<p>A new variation on simple nudge is provided by function <code>position_nudge_to()</code>, which accepts the desired nudged coordinates directly.</p>
<p>We can do better than simply shifting all data to the same extent and direction or to a fixed position. For example by nudging away from a focal point, a line or a curve. In <code>position_nudge_center()</code> and <code>position_nudge_liner()</code> described below, this reference alters only the direction (angle) along which nudge is applied but not the extent of the shift. Advanced nudging works very well, but only for some patterns of observations and may require manual adjustment of positions, repulsion is more generally applicable but like jittering is aleatory. Combining nudging and repulsion we can make repulsion more predictable with little loss of its applicability.</p>
<p>These functions can be used with any geometry but if segments joining the labels to the points are desired, <code>ggrepel::geom_text_repel()</code> or <code>ggrepel::geom_label_repel()</code> should be used, possibly setting <code>max.iter = 0</code> if no repulsion is desired. Plotting of short segments can be forced with <code>min.segment.length = 0</code>. Please see the documentation for these geometries for the details. Drawing of segments or arrows is made possible by storing in <code>data</code> both the nudged and original <em>x</em> and <em>y</em> coordinates. This is made possible by coordinated development of packages ‘ggpp’ and ‘ggrepel’ and a naming convention for storing the original position.</p>
<div id="position_nudge_keep" class="section level3">
<h3>position_nudge_keep()</h3>
<p>Function <code>position_nudge_keep()</code> is like <code>ggplot2::position_nudge()</code> but keeps (stores) the original <em>x</em> and <em>y</em> coordinates. It is similar to function <code>position_nudge_repel()</code> but uses a different naming convention for the coordinates. Both work with <code>geom_text_repel()</code> or <code>geom_label_repel()</code> from package ‘ggrepel’ (&gt; 0.9.1), but only <code>position_nudge_keep()</code> can be used interchangeably with <code>ggplot2::position_nudge()</code> with other geometries.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">84532</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">20</span>),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">20</span>, <span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">l =</span> <span class="fu">paste</span>(<span class="st">&quot;label:&quot;</span>, letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>])</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>With <code>position_nudge_keep()</code> used together with <code>geom_text_repel()</code> or <code>geom_label_repel()</code> segments between a nudged and/or repelled label and the original position (here indicated by a point) are drawn.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_keep</span>(<span class="at">x =</span> <span class="fl">0.3</span>),</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">min.segment.length =</span> <span class="dv">0</span>, <span class="at">max.iter =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>With <code>position_nudge()</code> used together with <code>geom_text_repel()</code> or <code>geom_label_repel()</code> segments connecting a nudged and/or repelled label and the original position (here indicated by a point) are <strong>not</strong> drawn.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">x =</span> <span class="fl">0.3</span>),</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>, </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">max.iter =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAt1BMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmkJBmtv9uTU1uTW5uTY5ubo5ubqtuq+SOTU2OTW6OTY6Obk2OyP+QOgCQkDqQkGaQtpCQ27aQ2/+rbk2rbm6ryKur5OSr5P+2ZgC22/+2/7a2///Ijk3I///bkDrb///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T////s/3Y3AAAACXBIWXMAAA7DAAAOwwHHb6hkAAANnklEQVR4nO3dD3/axgGHcWG7NGZLqNsufzoyJ862eHOCHcJqHOv9v67pBJKREOYkpNPvTs/3sy4NaEMxT9C/4xTFgLCo7xUAnkOgkEagkEagkEagkEagkGYb6E+AU3UDbRA/0BiBQhqBQhqBQhqBQhqBQhqBQhqBQhqBQhqBQhqBtmv581XFvx56CnsRaLsItGUEeqQoKvzoCLRlBHqcKCoWatJbjpPHzpN/vYyi09s4/vE+ik5uzFM/3p/nSy2is35W2S8EepyKQFfTizien9wsx6e3P96fxeafeH56W/wEXY4velhd/xDocSoC/fM2fkow+XWRfHrGSbWFQD+Mz92vrI8I9EhV+6CL5MHR1fLFOsx5GnF0vh1oshPAB6gVAm1XuokfXaWfoFmgZj80Lh4kjS+uN4/ieQTaLrNJN+ktkk9QE6T5/egqe2prqdWUbbwNAm3XJsjlOAk0P0hKis2CzZeK5yNONVkg0HaZ9K6TPdCP5qDoMkpPJZnTTOut/vZpprRbHEKgkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkBZEoKX7CO95Cj4iUEjzM9AoKqwvgYbLy0CjqFioqXA5Th47j9ObtJsbsZubtJ/cFG/SvnkKHgkl0NX0Io7nJzfL8entj/dnsfknnp/ebn+4jk9u0ofhkVAC/fN2/etyfJH+ukg+PeOk2kKgF2zyveNloJX7oIvkwdHV8sU6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" style="display: block; margin: auto;" /></p>
<p><code>position_nudge_keep()</code> and all other position functions described below can be used with all ‘ggplot2’ geometries but the original position will be ignored and no connecting segment drawn unless the geometry has been designed to work together with them.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">x =</span> <span class="fl">0.3</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAt1BMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmkJBmtv9uTU1uTW5uTY5ubo5ubqtuq+SOTU2OTW6OTY6Obk2OyP+QOgCQkDqQkGaQtpCQ27aQ2/+rbk2rbm6ryKur5OSr5P+2ZgC22/+2/7a2///Ijk3I///bkDrb///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T////s/3Y3AAAACXBIWXMAAA7DAAAOwwHHb6hkAAANnklEQVR4nO3dD3/axgGHcWG7NGZLqNsufzoyJ862eHOCHcJqHOv9v67pBJKREOYkpNPvTs/3sy4NaEMxT9C/4xTFgLCo7xUAnkOgkEagkEagkEagkEagkGYb6E+AU3UDbRA/0BiBQhqBQhqBQhqBQhqBQhqBQhqBQhqBQhqBQhqBtmv581XFvx56CnsRaLsItGUEeqQoKvzoCLRlBHqcKCoWatJbjpPHzpN/vYyi09s4/vE+ik5uzFM/3p/nSy2is35W2S8EepyKQFfTizien9wsx6e3P96fxeafeH56W/wEXY4velhd/xDocSoC/fM2fkow+XWRfHrGSbWFQD+Mz92vrI8I9EhV+6CL5MHR1fLFOsx5GnF0vh1oshPAB6gVAm1XuokfXaWfoFmgZj80Lh4kjS+uN4/ieQTaLrNJN+ktkk9QE6T5/egqe2prqdWUbbwNAm3XJsjlOAk0P0hKis2CzZeK5yNONVkg0HaZ9K6TPdCP5qDoMkpPJZnTTOut/vZpprRbHEKgkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkBZEoKX7CO95Cj4iUEjzM9AoKqwvgYbLy0CjqFioqXA5Th47j9ObtJsbsZubtJ/cFG/SvnkKHgkl0NX0Io7nJzfL8entj/dnsfknnp/ebn+4jk9u0ofhkVAC/fN2/etyfJH+ukg+PeOk2kKgF2zyveNloJX7oIvkwdHV8sU6zHkacXRe3j1NP2nhDz8DLUk38aOr9BM0C3Szs0mgngsl0IUJcpF8gpoKze9HV9lT+VLpJt4EDH8EE6j5AB0ngeYHSUmxWbCbpThI8lAogcbXyR7oR3NQdBlFJkJzmmm91S+cZqJPzwQRqJ1DB/Cc7ldEoFXPE6iMIQfKBVMPDCjQsmYXTLOH4AaB5uwumGYP9bDCg0SgObsLptlD7td3mAYcaLMLptlD7ld3mIYcaIndBVO27m4RaM7ugmn2ENwg0JzdBdPsoT7XdEgINGd3wTR7CG4QKKQRKKRZBfr4aVZeHnDCKtC7yay8POCETaD3f/v7rLw8vOPnYBiLQB//+e/1Jv4no/tVQjeCDfTuDfugXgpiOOHhQO9ffyNQHzUcTriaRqMPOsEeDvRuYrwpLQ95zYYTrqZncTokQUSHp5nsNinCWxfPHTGcUOhSLoGGq9lwQrPlF3pTWrySVPp5EKiYGsMJhd6U9gItb1HqTIoYMUC9e5bDCX3cxFcsv6sqUKtJEZMf2pxvoXXPdjihhwdJFcvvqgqUSRGF1BhO+IvO+9H1PqjdpIgEqkXo/ehwuF2NSRGFfiCIpd6PbgO1mRSRQPUIvR8dB2oxKSKB4hndBmo1KSKBYj++8gFpBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBKqofCe+6qcGgUAVEWiOQCWUbmVOoDkCVRBFxUJNhctx8th5nN7m1Nw02tzm9ORm+zan60UuelljZwhUQUWgq2lS3vzk5ulG0WfJ709vd24UPQ67UAJVUBHon7frX9MAzZ3Nk0/PeGVuHP0U6Isb96vqGoFKqNoHXUTm1uVphUmY8zTi6Hx7H/R6fY/zoBGoonQTP7pKP0GzQM1+aFw+SFpNzX5pyAhUkdmkmyAXySdouqOZ/H50lT1VWDTdVw0YgSraBLkcJ4HmB0lJsVmwa+luaeinnQhUkaku2cEcfTQHRZfrPU1zmmm91c9PM633Untd084RKKQRKKQRqBiuchYRqBgCLaoKND0Fd2B5tKR0ip5AS6o/Qa/X4xOeWR7tKF/ktBwnsnzxj9DP0G/s28SvpuZHtH95tKMqUJtxIuPgr3Fu7N8HNYnu/iUl0HZVBWozTiTwMUxP9gU6T88OX+9s6Am0ZZX7oAfHiQxnd7QyULPPk/4NXex8hBJox+zGiQw70NV0//53EIFaHin/7z/uVml7BSzGiQw7UJvlvWYXaD8R2I0TIdBDy/ukvJunHqjFOBECPbS8R3YOlO3ONZoFqk60wamhBmr7nTT0bKiB2pxrJFABAwh0zz4o5xq9MIRAd3Cu0R9DDZRzjZ4YbKCHzzWG/n1JPww1UJvvpF2HPy2CvkEGCn8QKKQRKKQRqC7lIQPOWAR6/+tkMisvj+4RaGwT6MO7z/H9b59Ly6MDjSYCH3yg318l//VlVlo+GJaDl+cOJkFqNhF4/lSY7PZBzadosqzR+Ro5Zheok5P2DScC3zwVKKtAHz+9KS/vK+XByw0nAt881f369cIm0Ie3eZ++B3rE4GUHn1GNJgLPnup+9XphdRQ/213eU14NXrYcdDX0QAt9Bhmo6uDlGoOuhryJv5sYs9LyvvJp8LLlFzw5SKpaPhjCg5dtv+B5GfLdaAiUwcvSCJSJEqQRKBMlSBt8oNBGoN2wvMRv7E4hiCcE2g0CbQmBtqTRULkUgT6HQNvRbKicmWd9dEmgzyDQdjQbKreanj87XTAItCXNhsqlD80J9BkE2pJGQ+XSi6rp89iDQLthd4mfQA8i0G7YXeJPN/EcxT+HQLthOz/ZGQdJzyPQbljOT+bzaaYap3qPQKBoiEChpfnFsiMQKCwdcbHsQ/MTFQRqyc3nhbJ+LpYRqCUC7ediGYHuV3g/CLSfi2UEulfxE8N2Jq8P5g6KZsFQZ1LIublYRqB77QRqOZNXPDf1hj8ExM3FMgLdaydQ65m8wp7OK2N7sYyDpK7s7oPazUAS+GQ0GTcXywjUUo0ZSAYSaA2L5hPsEqilujN5Eeia+SEdM3UUgVqqMQNJOIG2cW7N7AgdMXUUgVqqMQMJgbaIQLGll/EgzyJQPGk4HmSzSCcIFE+ajge56O67qQSKJ83Gg2SLdLJKBIotjcaDZIt0skYEiv3srk5ki3SyCgSK/SzHg2wW6WQVCBT72V2dyBbpZBUIFPtZjgfZLNLJKugGKnCSGP0jUEjTCbTqLq+7/1r5+6Eawo9IJtCdu2jW+RJQ8N//qUag+5dvXVWg1l8CCv77Pxt6Yzk6Jx2o9ZeAQnk3Dmg4lsM85O3NPGUCrd4HrfEloAFoNpYjf9hLOoGW1f0S0AAcMbeHt7PkSgda60tAQ9BoLEf6U/T2R6QdaJ0vAQ2Q3UaGQLtR90tAA2Q5lsM8xCYe7tltZDhIQk8sx3JwmgnoCoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoFCGoEGyG7GET++yUWgASJQKCnPyUKgULIzq5X1xIAECgcqA7WZGJBA4UJloDYTAxIonKjeB7WbGFBeGIGGdFTQghoTA8obUqCDUWNiQHleBtrwvMpg1JgYUJ6PgYZ9XqUFNSYGlBdMoMGcV0FBMIEGc14FBT4GGvZ5FRR4GeiOkM6roCCYQIM5r4ICi0Af3k5efisvryWk8yooOBzo46dZfPeqvLyWkM6roOBwoA9/fI3vf/9aWh5w4nCg96+/xQ/vPptlDSdrBWwcDvT7yyzQ7eUBJ+p8gm4vDzjBPiik2RzFv5E/ikewwjgPimCFcSUJwSJQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQuNPgZhcECncIFFpKk7UTKKSUb3dhd7ug9KGzzf+EQNGdikAtbhdkHkoXMwgUa13c77Qi0Lq3CyJQrHVyO8mqfdCDtwtKm80Q6ED1cr9Tu9sFESh6ut9pg9sFEegw9XO/U7vbBeUvbRDoMPVzv1O72wVxmgn+3O+UQLEmer9TAsWa6P1OCRRrovc7JVCsid7vlEBRB4FCWnr85BKBoobr/PykKwQKaQQKaQQKaQQKaQQKabUDBZyqGWhb+vwkHuhr+/3HJtDgX9vvPzaBBv/afv+xXQcK1EKgkEagkEagkEagkOY40PtfJ5OZ25fcfvXfv/byug9vJy+/9fLKcX9/6JbebLeBPrz7HN//9tnpaz75PvlrL+/V46dZfPeqj1eO+/tDt/Vmuw30u3mbvsycvmbuy1/+1c+HycMfX3v7HOvtD93Wm+1+H9T8xepJT5Xcv/7W45+6v0183Mab7TzQx09vXL9krqf36vvLoQbawpvtLtAvk8krc7zQR5/r1+YT1LE23mznR/Ezty9YfPXh7YP2exQ/O/7/xG2g/fbZ13tlNnS9HcX3F2g7b7bbQO8mxszpa27hPKhL7bzZXEmCNAKFNAKFNAKFNAKFNAKFNAKFNAKFNAKFNALt0Hx0Fa+m532vhtcItEvXZ+Y/OAKBdmn58wfXc7uHhkA7NY8u+l4FzxFop9zffCA0BNqlxcl/p3yEHoVAO2Tuw57e2hqNEWiHrk9vY3PvSzRHoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJD2fwHeXrcjPyUHAAAAAElFTkSuQmCC" style="display: block; margin: auto;" /></p>
</div>
<div id="position_nudge_to" class="section level3">
<h3>position_nudge_to()</h3>
<p>Function <code>position_nudge_to()</code> nudges to a given position instead of using the same shift for each observation. Can be used to align labels for points that are not themselves aligned. By left-justifying the label text we ensure the alignment of labels differing in width.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> <span class="fu">ifelse</span>(x <span class="sc">&lt;</span> <span class="dv">1</span>, <span class="st">&quot;&quot;</span>, l) )) <span class="sc">+</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_to</span>(<span class="at">x =</span> <span class="fl">2.3</span>),</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">segment.color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.015</span>, <span class="st">&quot;npc&quot;</span>)),</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">direction =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">hjust =</span> <span class="st">&quot;left&quot;</span>) <span class="sc">+</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">x =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAArlBMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmtv9uTU1uTW5uTY5ubo5ubqtuq+SOTU2OTW6OTY6Obk2OyP+QOgCQkGaQtpCQ27aQ2/+rbk2rbm6ryKur5OSr5P+2ZgC2/7a2///Ijk3I///bkDrb///kq27k////AAD/tmb/yI7/25D/29v/5Kv//7b//8j//9v//+T///9MGCfFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAKZ0lEQVR4nO3diVbbRgBGYRkIBKcEkjQkKdCYtlDAZnPMovd/sWokyzXyorGWmV/S/U5bIMyprPgyWmyhIASEBb4fALAOgUIagUIagUIagUIagUKabaDvAKc2DbRA/EBhBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBLpOEPAuL88IdI0goFDfCHQNAvWPQNcgUP8IdB369I5AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIa0hgQaB7QNEuzQj0CCg0I4iUEgjUEhrRqDsg3ZWQwJFVxEopBEopBEopBEopBEopHUgUE5RNVn7A+Ukf6MRKKQRKKS1P1D2QRutA4GiyQgU0ggU0ggU0ggU0ggU0qwCfT0/yY4HnLAK9LZPoPDDJtDJ738QKPywCPT1r3+STfw7w8FjAmYsAr09Zh/Up26/VJsf6OTrHYF61PE3u+QHets3jjPj4QqBxjjNpIpAYwQqq9N9VvlKUrf/IlGP6gLt+KYI9SBQSCNQSGMfFNJ4ux2kESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikEWhd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" style="display: block; margin: auto;" /></p>
<p>We here the pass a vector of length one as argument for <code>y</code>, but <code>x</code> and <code>y</code> also accept vectors of the same length as rows has <code>data</code>. In other words, it allows manual positioning of text and labels.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> <span class="fu">position_nudge_to</span>(<span class="at">y =</span> <span class="sc">-</span><span class="fl">2.5</span>), </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">box.padding =</span> <span class="fl">0.1</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">segment.color =</span> <span class="cn">NA</span>,</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">direction =</span> <span class="st">&quot;x&quot;</span>) <span class="sc">+</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>(<span class="at">sides =</span> <span class="st">&quot;b&quot;</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.02</span>, <span class="st">&quot;npc&quot;</span>), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="position_nudge_center" class="section level3">
<h3>position_nudge_center()</h3>
<p>Function <code>position_nudge_center()</code> can nudge radially away from a focal point if both <code>x</code> and <code>y</code> are passed as arguments, or towards opposite sides of a boundary vertical or horizontal <em>virtual</em> line if only one of <code>x</code> or <code>y</code> is passed an argument. By default, the “center” is the centroid computed using <code>mean()</code>, but other functions or numeric values can be passed to override it. When data are sparse, such nudging may be effective in avoiding label overlaps, and achieving a visually pleasing positioning.</p>
<p>In all cases nudging shifts the coordinates giving an <em>x</em> and/or <em>y</em> position and also expands the limits of the corresponding scales to include the nudged coordinate values.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.3</span>, <span class="at">center_x =</span> <span class="dv">0</span>),</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">min.segment.length =</span> <span class="dv">0</span>, <span class="at">max.iter =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAt1BMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmkJBmtv9uTU1uTW5uTY5ubo5ubqtuq+SOTU2OTW6OTY6Obk2OyP+QOgCQkDqQkGaQtpCQ27aQ2/+rbk2rbm6ryKur5OSr5P+2ZgC22/+2/7a2///Ijk3I///bkDrb///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T////s/3Y3AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAN/0lEQVR4nO3dDXva1h2HYWG7NGZLqNOuaTsyJ862eHOCHcJqnOj7f67pCAvrBay/hF5+Onruq21sUAoOTyQhHY6CEBAW9P0EgOcQKKQRKKQRKKQRKKQRKKRZA/0B6FTVQGvED9RGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoIetf7za82XZXWgUgR5GoAII9LDagQYBg8OaQqCHufTW06i28+jLyyA4vQ3Db2+D4OTG3fXt7fluqVVwlvp9QUChjSHQw6L0NvOLMFye3Kynp7ff3p6F7t9weXqbXYOupxfuqyCtv6ftFwI9LErvz9vwKcHo11W09gyjajOBvpueZ34fgTaIQA+LK1xFsU2u1i+2YS63q8fzdKDRTsBF9jfSZ3MI9LB4Ez+5itegSaBuPzTMvkmaXlw/3ormEehhbpPu0ltFa1AXpPt+cpXclVpqMz8/+D/BcQj0sMcg19Mo0N2bpKjYJNjdUuFywrHQlhDoYS6962gP9L17U3QZxIeS3GGm7VY/fZgp7hZtIFBII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BI0w00d0HhA3fBcwQKaR4GGgTWHwb6tANdT6PazsP4au3uiuzuau0nN9mrtT/etRMEFOoR6UA384swXJ7crKent9/enoXu33B5epteuU5PbuKbt2EmOnuWaJl0oH/ebn9dTy/iX1fR2jOMqs0EepHb5BOoV6QD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" style="display: block; margin: auto;" /></p>
<p>By default, split is away or towards the <code>mean()</code>. Here we allow repulsion to separate the labels (compare with previous plot).</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.3</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>),</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAt1BMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmkJBmtv9uTU1uTW5uTY5ubo5ubqtuq+SOTU2OTW6OTY6Obk2OyP+QOgCQkDqQkGaQtpCQ27aQ2/+rbk2rbm6ryKur5OSr5P+2ZgC22/+2/7a2///Ijk3I///bkDrb///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T////s/3Y3AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAOMklEQVR4nO3dDXub1h2HYfxSNdaWuG67pu2UJXW2xZsT2XG02k74/p9rHBAyIGH9QXD4cXjuq21sCVdS9Jg3ASeKAWHR0E8AeA6BQhqBQhqBQhqBQhqBQpo10O8Ar5oG2iJ+oDUChTQChTQChTQChTQChTQChTQChTQChTQChTQCrbf6/nLHl/vuQqcItB6BCiDQeq0DjSIODusKgdZz6a1mSW1nyZdvo+jkJo6/vomi42t319c3Z5up7qLTws9FEYV2hkDrJek9nF/E8fL4ejU7ufn65jR2/8bLk5vyHHQ1u3BfRUXDPe2wEGi9JL0/b+KnBJM/75K5Z5xUWwr03eys9HME2iECrZdWeJfEdnS5epGFucxmj2fFQJOVgIvyD9Jndwi0XrqIP7pM56B5oG49NC5vJM0urta3onsEWs8t0l16d8kc1AXpvj+6zO8qTPVwflb7P8FhCLTeOsjVLAl0s5GUFJsHu5kqXh6xL7QnBFrPpXeVrIH+4TaK3kbpriS3mylb6hd3M6Xdog8ECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmm6gVYGFK65C4EjUEgLMNAosr4Y6NMOdDVLajuL09Ha3YjsbrT24+vyaO3ruzaiiEIDIh3ow/lFHC+Pr1ezk5uvb05j92+8PLkpzlxnx9fpzVmYOW/PEj2TDvTPm+zP1ewi/fMumXvGSbWlQC8qi3wCDYp0oHF8l8R2dLl6kYW5zGaPZ9XV03ROu0GfIZEO9OH86DKdg+aBrlc2nw8UIZEO9M4FeZfMQV2F7vujy/yuzVTpIt4FjCBpB+pmoLMk0M1GUlJsHux6qs1GEoIkHWh8layB/uE2it5GkYvQ7WbKlvql3Uz0GS7dQG2e2WfPR1EhIFBII9Bt7KcSMvZAn2H7rDS/6Ql7+pWEHajhs9L8Jj4r1RR2oIbPSvObnn6OQJWEHajhs9L8psIP0qeQsAM1fFa6LB2rBzVhB2r4rDS/CZoCD3T/Z6X5TUM+U9QLO1DDZ6X5TdAUcKAIAYFCminQb+8X1ekBL0yB3s4X1ekBLyyB3v/t74vq9BitcR3lZQj02z//nS3iv3P6f0roV3CB3r5mHXTkSh/ehhbo/S+fCXTcyoe/GA9DfDiPjt4NH+z+QG/nzuvK9BiR8nGEtsMQH85P4/RQhoG12s1kW0gILi8mamsOaj0MUeAjYAKdgu110P2HIbolv8Bb2OqTpNaBcqSlgAaHIY45UOOVEaPKVZModHDGwxDHtIivTm+9MmLy17BMz0fjbB8h1sMQR7SRVJ2eKyOOWYPDEH8Y8SLeeGXE8loMfY7LiNdBrVdGFHiJaE3g3WsbqOXKiAQ6dgLvXutADVdGJFAcrPU6qOXKiASKQ3HKB6QRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQR6CjYxpcOEYGOAoESqDQCJVBprsLVzI3WG6dDp7mBKN3QacfXpRGK00kuhn2qHSPQUUiH703KWx5fPw0+eZp8f3KzNfjkLKhCCVRRcdhyN8q5S+9PN5y0G1/aBehGSz3OxpkuBuqGng4MgQqK0iizP7I3Jq3wLnLDoW4GQM/uPiuug15l46aGhEAFRYU0M+kiPhurdxOoWw+NqxtJD+duvTQgBCqomme2SHdB5gOerwdEX99VmjRdVw0HgSqq9pkHuZolgW42kpJi82Az6WppYLudCHQUXHXJCubRH26j6G22pul2M2VL/c1upmwtddBn2jUChTQChTQChTQChTQChTQChTQChbRdgaYfqu2ZHj3Z2kc/cbvnoFfZEYfPTI9+bH/KOXF1i/iHc3dwbP306AeBVtSvg7pEtw+MIdB+bR3HNHV1gS7Tz3uvthb0goEaz9f533/8PaUDrI8EnfBZSGU7A3WHIaTHbN1tzUJHG+jY3lUCzezeiq8/5pVAPSHQTAD7QU1nPLoJdm30ybKdx7l68Y/AjqCvCiNQ6xmPlZMplDdHjK9qFto5SFVhBGo547G4XIyeDPCETYyvKqxzjHcII1DDGY87VtzUA233qgITRqCGMx5HGGi7VxWYMAI1nPG4660U7vOAVxWWQALdf8bj2M7Gtb0qAq2bXojxjMercV10w/aqCLRuesALAoU0AoU0AoU0AoU0AoU0Q6D3P87ni+r0gBf7A3387UN8/9OHyvTon/IHXd7sD/TLq+Q/HxeV6dE76UMFvLGtg7q5aDKt0/szwhqBOqZAv71/XZ1emvF0iWXhYq+CLYgfsOqJJdDHXzd9hhRo8fARyRSyp1STaZhnYm0zbcUvtqeX1vzNkwy0aNe4Hzu+3HfX+OwPtNTneAI1nUaXHd+kfvbHk+rISXH1y313jc/+QG/nzqIyvbQmp9HF2Rs+ij7X0udqPOszv2u0gvwkqcVpdKNjPeszu2u8Qg206xPOGlxHYftyLH1ocNbnqH8TQw206xPOFAO1/BKu7/LwhHoSaqBdn3CmGKjll5BAFfVwwpltm8Rds/Lora9Arb+ELOLV9HDCmW2b5OH87NlLr3XI+EvIRtJE2LZJ0puW3tZBLb+Eb0c+hDyB2ti2SdK1wPT+7DK049m3KotAbWzbJE+BcjHvjhCojW2bJF3E51vxBNoFArWxXl/n9GkjiUC7QKA2xuvrlHYz0WcHCBTSCBTSCBQHa/A5cGMEioMRKKQRKGTUncBnPJLm3YuGnwMTKJoo7Nx9OpWrzyNpCBRN7Bxhqs8jaQgUTez8eKzpkTRNEGhTE/98qGYdtOGRNHYE2hCfsG9rcSSN2fQCPXCfCIFusx5Jw0aSxQGB7tg+QNzuSBorAt1917a8S/o8xF3Ty5xMM1DLNWPezdxGaPKf9JxdqjyYWwtofgLfJAM1XjMmXrp6/ZwDNwVu11PjE/gmGaj5mjGjv3DM+E0yUOuFm8Z/2YPxm2Sg1gs3TTZQoQ3BSQba6JoxEwxUaVfaNAM1XriJQIc3yUCtF24i0OFNL1Ds5/oUSZRAUSfq9VwOIwJFPQKFNAKFNOPZcOtJeuE9UIFfSlhZz4a76O+yvQSKerbjFvJJenkKowlUZ8+cpH5+723HLeSTtH2UZw0SqPVwzMLoKUr7jhX1FqjhuIV8kraP8qwhAjUfjnl8XToRm0BLqqem7/hy5/cNGM+GW0/S9lGeNUSgbYbwI9Cq8t+IcXvb3dTgmGHbcQv5JJ29tKJh1kEbHI6Zo8+K8qLFtmDa3GxkPBtuPUnXrzA1zCK+weGYqLE1B7VefcbPUI1dGSLQSQzh17/tddC9C6b0b35cf62DBNrkcEyY2BZMBLpf08MxYWLc3nY3sYiHf7YFU9ONJAEEGgbj9nbD3UwCCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCDRotguOKJ/8RaBBI1BoqVyAhUAhpXoJK+u1BAkUXkRl1msJEij82DEHtVxLkEDhya51UNu1BEXpBjr+9XsBDa4lKGrsgeJZDa4lKCq4QLnQbVGDawmK0g60+R4SLhVe0uBagqKkAzXvIanuXUEwpANtsYeEQAMjHWibPST0GRbpQEe+hwQdkA505HtI0AFDoI+/zl9+rk7fv/HvIUEH9gf67f0ivn1Vnb5/499Dgg7sD/Tx90/x/c+fKtMDXuwP9P6Xz/Hjbx/ctI6XZwWs7Q/0y8s80OL0gBdN5qDF6QEvWAeFNMtW/OtBtuKBWHk/KBArf5IExAQKcQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKaQQKf1oMjEGg8IdAoaZ0SXYChZjyoBa2oYXSm07XP0Kg6FN5dCDb0ELupnQyh0BR1PUIqVtz0KZDCxEoijofIXV7HXTv0EJpszkCnbhd43dvfbnz+xZsQwsRKDaqI/O1GyHVqsXQQgQ6bdVRTpuMkNqcbWihzYM6BDptO+agLUZItbINLcRuJjzZtQ7afITU/hAoiuRGSCVQFMmNkEqgKJIbIZVAUSQ3QiqBojkChbR0+8kPAkVjV5u9lP0jUEgjUEgjUEgjUEgjUEhrHCjgVcNAvRliVs1j6j4mgfKY0o9JoDym9GPKBQoUESikESikESikESikqQV6/+N8vvD/qD9/8vp4j7/OX372+oiO71fZybspFujjbx/i+58+eH7UL/O/en3rvr1fxLevfD6i4/tVdvNuigX6xb1tHxd+H/TjX/7ld97y+Psn/7Mz76+ym3dTLFDH/d555rmW+18+T+BVZg59nXqBfnv/2vtjen7rvrycTKAHv5tCgX6cz1+57QeffWaPyRy0L4e/m0KBpu5/XAzxqBNYBx1mK35x6P9CLNBh+vT91rnlnv+teP+BdvFuigV6O3cWvh+W/aC96OLdFAsUKCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCPQHi2PLuOH87Ohn8aoEWifrk7dPzgAgfZp9f07f1d1DxOB9moZXQz9FEaOQHvlc9iBMBFon+6O/3vOLPQgBNojNwJ7Oqg1WiPQHl2d3MRu1Eu0R6CQRqCQRqCQRqCQRqCQRqCQRqCQRqCQRqCQRqCQ9n8h3DXvlE2krQAAAABJRU5ErkJggg==" style="display: block; margin: auto;" /></p>
<p>We set a different split point as a constant value.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.3</span>,</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">center_x =</span> <span class="dv">1</span>,</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>),</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAt1BMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmkJBmtv9uTU1uTW5uTY5ubo5ubqtuq+SOTU2OTW6OTY6Obk2OyP+QOgCQkDqQkGaQtpCQ27aQ2/+rbk2rbm6ryKur5OSr5P+2ZgC22/+2/7a2///Ijk3I///bkDrb///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T////s/3Y3AAAACXBIWXMAAA7DAAAOwwHHb6hkAAANoklEQVR4nO3dC3/T1h2HceVSl3iDNLTj0plBwzayBZwQsiYBvf/XNR3ZciTZiv9H1pF+Pnq+nxaCrWAnedBdOkkKCEuGfgPAUwgU0ggU0ggU0ggU0ggU0qyB/gT0yjfQFvEDrREopBEopBEopBEopBEopBEopBEopBEopBEopBFos9ufzzd8uO0pdIpAmxGoAAJt1jrQJOHksK4QaDOX3u0kq+0k+/B9khxdpen3d0lyeOme+v7uZDXVTXJc+rwkodDOEGizLL3707M0nR9e3k6Orr6/O07d/+n86Ko6B72dnLmPkrLh3nZcCLRZlt6fV+ljgtnvN9ncM82qrQT6YXJS+TwC7RCBNssrvMliOzi/fbYIc76YPZ6UA81WAs6qn0if3SHQZvki/uA8n4MWgbr10LS6kTQ5u1g+iu4RaDO3SHfp3WRzUBek+/PBefFUaar705PGvwS7IdBmyyBvJ1mgq42krNgi2NVU6fyAfaGBEGgzl95Ftgb6h9soep/ku5LcbqbFUr+8mynvFiEQKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKTpBlobULjhKUSOQCEtwkCTxPrFQJ92oLeTrLaTNB+t3Y3I7kZrP7ysjta+fGolSSg0ItKB3p+epen88PJ2cnT1/d1x6v5P50dX5Znr5PAyf3gRZqG3d4nApAP982rx++3kLP/9Jpt7plm1lUDPaot8Ao2KdKBpepPFdnB++2wR5nwxezypr57mc9oV+oyJdKD3pwfn+Ry0CHS5svl0oIiJdKA3LsibbA7qKnR/PjgvnlpNlS/iXcCIknagbgY6yQJdbSRlxRbBLqdabSQhStKBphfZGugfbqPofZK4CN1upsVSv7KbiT7jpRuozRP77DkUFQMChTQCXcd+KiH7HugTbMdKi4cesadfSdyBGo6VFg9xrFRT3IEajpUWDz1+HoEqiTtQw7HS4qHSJ9KnkLgDNRwrnVfO1YOauAM1HCstHoKmyAPdfqy0eGjId4pmcQdqOFZaPARNEQeKGBAopJkC/fFxVp8e6IUp0OvprD490AtLoHd/+/usPj0GMMbzswyB/vjnvxeL+J+c8G8JTQh0o+vXrINqGOMJhNsDvXv1lUA1GE8gvD9NDj7EcquA7YFeT53XtekxANsJhPenx2l+EkIUJxC22s1kW9REu1o0GI8TCCsHbwn0EYEGZDyB0C35q9/8/e2z3ZGk1oHu8TdKgccJhNHMHVoHarwzYlK7axKF7sB4AuHaIn6ftQ3UdGfE7Js5z69Hi2BlXYH1BMJiIykGbQPlzogD8DiB8JfRL+KNd0aMZmV9z4x+HdR6Z8RovlF7Jprve9tALXdGJNDhRPN9bx2o4c6IBIqdtV4HtdwZkUCxKy75gDQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQCDc028i4aEGhoBLoTAg2NQHdCoKHZxi5fTHL29F81RgQamnHs8nzUswmF1hFoaMaxy92gvFhHoKHZxi53Q0seLz5KGLa8hEBDs41dnron3HppmudJoQUCDc02dnkuX1dNl4X2/kY1EWhotrHL89XS4s8E+ohAQ7ONXb5cS11+Dn2uECikESikESikESikESikESikESikESikbQo0P3S8ZXoEwj76qs1z0IvFebVPTI8wOMpZ07SIvz91p4A3T4+Ndr6+g0BrmtdBXaKHa2fREuiTdgs0STjTrq4p0Hl+VsPF2oJeMVBjFf/7j8xbWfMYJn1WbQzUnWyTn5l4szYL3d9Ae7mE0naF3O2zf6wWTswzn7Z5K3590V6fXolWoJYr5CaLqztI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" style="display: block; margin: auto;" /></p>
<p>We set a different split point as the value computed by a function function, by name.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.3</span>,</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">center_x =</span> median,</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>),</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We set a different split point as the value computed by an anonymous function function. Here que split on the first quartile along <em>x</em>.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.3</span>,</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">center_x =</span> <span class="cf">function</span>(x) {</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">quantile</span>(x, </span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">probs =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, </span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>                                          },</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>),</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The labels can be rotated as long as the geometry used supports this.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">position =</span> </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">y =</span> <span class="fl">0.1</span>,</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>By requesting nudging along <em>x</em> and <em>y</em> and setting <code>direction = &quot;split&quot;</code> nudging is applied according to the quadrants centred on the centroid of the data.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.1</span>,</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">y =</span> <span class="fl">0.15</span>,</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>With <code>direction = &quot;radial&quot;</code>, the distance nudged away from the center is the same for all labels.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.25</span>,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">y =</span> <span class="fl">0.4</span>,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;radial&quot;</span>),</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>As shown above for <code>direction = &quot;split&quot;</code> we can set the coordinates of the centre by passing constant values as in this example or functions (possibly different for <em>x</em> and <em>y</em>). We can also set the justification the text labels although repulsion usually works best with labels justified at the centre, which is the default.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.15</span>,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">y =</span> <span class="fl">0.3</span>,</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">center_x =</span> <span class="dv">0</span>,</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">center_y =</span> <span class="dv">0</span>,</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;radial&quot;</span>),</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>,</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">hjust =</span> <span class="st">&quot;outward&quot;</span>, <span class="at">vjust =</span> <span class="st">&quot;outward&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAvVBMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmkJBmtv9uTU1uTW5uTY5ubo5ubqtuq+SOTU2OTW6OTY6Obk2ObquOyP+QOgCQkDqQkGaQtpCQ27aQ2/+rbk2rbm6rjk2ryKur5OSr5P+2ZgC22/+2/7a2///Ijk3I///bkDrb///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T///9k553NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAPhklEQVR4nO3dCX/TyBmAceVYL/EupGG3XG1oIPQgbcBJjLtJiL7/x1qNbBlLlq1X8oznnZnn/+sWYgsiRw+6jywHFMt8jwCwDYFCNQKFagQK1QgUqhEoVJMG+hOwV30DHRA/MBiBQjUChWoECtUIFKoRKFQj0C6zny9bftv1Fiwh0C4E6hWBdiFQrwSBPn0a//K5OXw6THqzUZZlJ8VvL7Ls6CbPv7/PssNr89b39yfLoabZsedxjZAg0C/n+bfnd43h01Gk93B6lueTw+vZ6Ojm+/vj3PyXT45u6nPQ2ejM53hGqjvQx3dfW4ZPR5HeHzf5jwSLX6fF3DMvqq0F+mF04nEso9Ud6P2rfy0W8avH7tNRVjgtFvEHl7Nn8zAnWelkNdBiJYAZqAOCQF+eF5Emvog/uCznoFWgZj00r28kjc6uFq/CJskc9C5/fFttJSUZ6NSkNy3moCZI8/XBZfXWylAPpyzj7ROsg/6dQM0MdFQEutxIKoqtgl0OlU8O2NVknWwrPvFFfH5VrIF+NBtFF1m5K8nsZpov9Vd3M5Xdwi5BoI9vxr8uN+TTCxRecSRpZ1zO5RKB7i4jUXcI1AYKdYZArWAm6gqBWkKhbhCoLcxEnSBQeyjUAQK1qDyFxPdIRIZAbaJQ6wjUJgK1jkBtIlDrCNQq+rSNQKEagUI1AoVqBArVCBSqEShUI1CoRqBQjUChGoFCNQKFagQK1QgUqhEoVCNQqEagUI1AoRqBQjUChWoECtUIFKoRKFQjUKhGoFCNQKEagUI1ZYHKHs6OdBAoVCNQqKYwUPNk6+wkL587aJ4taJ47eHhdf+7g4i1ET1+gD6dneT45vP7x5Nbj4uujm9qzrw+vy5cRPX2B/nEz/3U2Ops/avhw/pD2+sPZWeQnQl+geT7NzLOEZ8/mYU7K2xZnJ83V03JOi9jpC/ThdP6g62Wgi5VNAk2SvkCnJshpMQc1FZqvDy6rt5ZDlYt4EzBipzBQMwMdFYEuN5KKYqtgF0OxkZQMfYHmV8Ua6EezUXSRZSZCs5tpvtSv7Wba3ic7VCOhLFAZQWIEGongAjUjSqDpCC5Q81RhYaDdh6Sql6BWeIHKHnwtOyRVveRybLGTEAOVjK3skFT1kstxxU7CDLR7Jio7JFW95HhsMVyggXYmKjskxdJdvWAD7UhUdkiqeglqBRzo1pGWHZKqXtrHyGKQoAMtZ6LtT8CWHZKqXoJaYQda5skz2mMWeqD50ECJOgzJBira3Q/vgg90wzqo6E9aHY9QBHaWQviB7iDJmSiBhiTBQgk0KOnNRIXneT2cZgcfFASbeqDpzURl53k9nB7n5bFi3wg0tZloj/O8NBxjGxKobC1G4wrNBkkVKjzPyyz5NUxCAjWKmWgyx6N6nOelYRIS6Fw6R0yF53mFvogX3oIuC+Vk9bQClZznFfBGkvQWdMWnnoRyRVpSgUrP8/qLgoXgwEDjuwVdKn32oWHqDV4Hld2CTsNHxEYdU13D1Bu8iJfdgk7DR8QGsisPPRsYqOQWdASqWxirNEMDFdyCjkA1C2WVe+g6qOQWdASqVyB5CgN9+nTeHB4hC2X2mQsDvR3LAg3nY6ctpOkkCfT+r38TzkFD+uTJCmj2mYsCffrnf+aL+J+M7X9dUJ89TYFNIkGgt697rIMG9vGTkpUnbfkei566A71/dddnIym0H0A6wjzdoDvQ27HxujH8ZuH9DBIRa6B5391M4f0Q0kCglSB/EAkIcrK4uGguzH+qUIlAoRqBQjUn18XTJ2zhxg1QjUChGoFCNQKFagQK1QgUqhEoVCNQqEagUI1AoRqBQjUChWoECtUIFKoRKFQjUKhGoFCNQKEagUI1AoVqBArVCBSqEShUI1CoRqBQjUChGoFCNQKFagQK1QjUl+ZjTdvfSh6B+kKgIgTqC4GKEKgvpsLZKMuyk7x8ZvTRzfyZ0YfXtWdGP/uHeSVdBOpLUeHD6VmeTw6vZ6Ojm+/vj3PzXz45ulmduY6OfY6kfwTqS1HhHzfzX2ejs/LXqZlXFtXWAj3zOI4KEKgvZYXTYhF/cDl7Ng9zUj5+IjvZsnqaHAL1pVzEH1yWc9AqULMemm/Zfkpww4pAfTGLdBPktJiDmrjM1weX1VsrQ9X/TPsbBNocHrtaBDkbFYEuN5KKYqtgl0PV/0z7GwTaHB67MkVdFWugH81G0UWWma11s5tpvtRf7mZaC7R719R8kEg2rgg0GFkm3TVVrjFEsvlPoEFYPFxSuGvqWUR79glUlbbJsPLkU9muKbPmEM3ufQJVZTEZlkk2Hssr2zWVmzdiOUBKoKrMJ8P8cdEtz4yW7ZoqleuqESBQVVYCbZsisl1T5WppLLudCFSXcjps6lO4a2qxlrq3cXaKQHVZzkI9j4caaQUqPBIz8Tf/IcwGAl3/2uf2BYE2EGj3W/tEoA3pBdp5LNsM4G0/N4E2tAVa7gvuGD5MPY5le0KgDe1z0Kv5zGXL8GESHsv2uQuRQus2LeIfTs1ycPPwYQrgMgsCrdu8DmoSXT+eqydQ4S6j//+3/kbvyyz2jF2gdZsCnZQbCldrC/rQAl074bf3ZRb7tfEgUqpaAzUbtuWuwOnaLDT8QPteZrFfBNrQvhW/+VQtXYGKdhmd1P9M38ss9otAG8LdD6p/l9Eg9FkXdKDadxlhd0EHKt9ltG22xBxLs6AD7bPLaLHobFmC6g1U/6kD7gUdaM9dRlnWdqq63j4JNA890O5dRo1T5wg0NEEHKrn84ap2ZlJ4gQrucVu9FaVwAx1mfR1Ud6Cie9zO34pTaoGuUdyndE/a4i2PI+oQgfoegS2Ee9IWb/kcU3cI1PcIbCHck0agLcPHQnOfffaksYhvDB8L9YEKTr5iI6ll+FhoD1R08tVFRHezayJQqJZ4oCH0GcI4uiMI9P7leHzeHD4S8okvvATKWL8OYQepnx7aHejj28/5/W+fG8NHQnWgnF2fSwL99qL4vy/VLJRA9xYofRqydVAzFy2GNZyP0f70mv6yEzfMxdoHFwRqjyjQp0+vm8NHoF8AshM3Hk5Ptl5z6G78YiUJ9PHNss+kAxWcuFG+NLG3Dmrl7wmaaCv+/McXKQcqOHGjPFQe1XOKfOsOtNZnTIH2XgcVnLhBoLZ1B3o7NiLdipeTnbhRLuKt7gdNXeJHkuSkl0AdW9tIgkGgQsJLoCzuZvKqx25ftwgUbQgUqhFotOLYdyk8cLYYxCECtc7svAp+H7v0wNmZveMS7QjUgY0Pgw2H7MBZNYjDESFQF6IIVHDgbA/PrSVQF6IIVHDgrBrE4YgQqBOh9yk9cLYYxOGIECjayA6cVYM4HBECRRvxvQPLQep/bv23rV/LEChsItAdqDk6EjEC3QGB7qq7kh6Xbn0QnTZLoK1fo8368ydWdlbM96xZv3QrtUAld9T+YB5PZwaM9I6GQ7X1uTiuuyzV+qVbiQUqvKN2PjH1lj/B0HdoWtQeaP0HZP3SrcQCFd9Re+W22ospEPy+912tf/yWA2bWL91KLFDps+nqN4U1kyH8o5c7avvw6z8S65duJRao9Nl09UDzKE5Q2o3ws0sv3WIjqYXsX3d7oKnPQaUf3fqlW6kFKrijdnugia+DOvjsU9HDxxILVHRH7fZAk2a5TzOfEN5WP6VAMZT1+afZOJXdVp9A0cnnug2BohOBQi3fOy8IFNt437tGoNiGQKEagcIKZ+e6+j4+QaBxiPZkbAKNA4E2hocuwmuBzEthPRjZUaDR/oPWSna1wPLlcBBoHHpcCxTWMx5UBup7yzFAsqsFyjPcwppDOAxUegHl2rWT3ve9hab4acmuFiDQSp8LKMslTtbU61OkanHVby6+Fsi8xCI+73cB5do/aAIVWvmnLLtagI2kSt8LKOvoU6Z+wwTJtUDsZlroewElhkhhUeMu0F4XUGKQ+Pt0GWifCyiBdg7XQftcQAm041g8VCNQqEagUI1AoRqBQjUChWoECtUIFKoRKFQjUKhGoFCNQKEagUI1AoVqBArVCBSqEShUI9AkyO70ovHiBgJNAoFCkdaHELf8tustDQg0Pu2PcRfdK4tA4d7afa4y6b2yCBR70D4Hldwri0CxDxvWQWX3ylKGQJPQ415ZyhBoEnrcK0uZ0ANN4PZZNvS4V5YygQeawg0IbehxryxldAQ6eD8ygcYupEAbuJ19CgINdNklfUZOT6DiI3HMNFMiCPTxzfj5XXN4u3ociSPOtHQH+vTpPL990RzernCPxMGx7kAf333N73//2hjernCPxMGx7kDvX93lj28/m2ENJ2MR7pE4ONYd6LfnVaCrw9sV7pE4ONZnDro6vF3hHomDY3rWQcM8EgfHJFvxr51vxQMb6NgPCmyg40gSsAGBQjUChWoECtUIFKoRKFQjUKhGoLBn0KU72xEo7CFQqEagUE12bVn50rHwryRQ2CO7tsy8VA4mQaCwx8G1ZQQKe2TXlpXNShEo7JFdW0ag8MTBtWUECntk15Ytt50kCBT2yK4tYzcT4kGgUI1AsTdDbvxGoNijItGeN88kUOxV33tiEyj2ikChGoFCN9ZBMYjSO/8TKEpaH+hDoCgRKFTT+lA0AsXcvE51hRIoarTNRAkUDboKJVA0qZqJEijWKSqUQNHCzERltwlx/egVAkWrzMV9bAYgUGxAoFBNdqMlFvHwRHajJQKFJw5utDQAgWID2Y2WCBSeyG60RKDwxMGNlgYgUGwgu9ESgcIT2Y2WCBSqEShUK7efHCJQ7OJKfB/FgQgUqvUOFNirnoE64HemnPB3D+qjE2h63z2oj06g6X33oD66oqtQgHUECtUIFKoRKFQjUKjmL9D7l+PxubfvXnz/3796+s6Pb8bP7zx979znBx8y0b0F+vj2c37/22df3z7/Nv7V03R6+nSe377w871znx980ET3Fug3M4m+eJuFfvnl375mJI/vvnqci3n84IMmutd1UPMPyhtvjdy/uvP6yX0u4vPeE91noE+fXnv87t6m07fnKQfad6J7CfTLePzCbCv46XP+3ZmDetF7ovvcive5De9xOvldB/W9Fd93onsL1Hef/qaTWch53Ir3GeiAie4t0Nux4TFS9oPu34CJzpEkqEagUI1AoRqBQjUChWoECtUIFKoRKFQjUKhGoA5NDi7zh9MT36MRNAJ16erY/A87IFCXZj9/cHwbzegRqFOT7Mz3KASOQJ1yfp/X6BGoS9PD/50yC90JgTpkHnlZPkUQgxGoQ1dHN/PnsGIwAoVqBArVCBSqEShUI1CoRqBQjUChGoFCNQKFagQK1f4E7ZbXmrEOwMQAAAAASUVORK5CYII=" style="display: block; margin: auto;" /></p>
<p>Nudging along one axis, here <em>x</em>, and setting the repulsion <code>direction</code> along the other axis, here <em>y</em>, tends to give a pleasent arrangement of labels.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">position =</span> </span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">position_nudge_center</span>(<span class="at">x =</span> <span class="fl">0.2</span>,</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">center_x =</span> <span class="dv">0</span>,</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>),</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">aes</span>(<span class="at">hjust =</span> <span class="fu">ifelse</span>(x <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)),</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">direction =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="position_nudge_line" class="section level3">
<h3>position_nudge_line()</h3>
<p>Function <code>position_nudge_line()</code> nudges away from a line, which can be a user supplied straight line as well as a smooth spline or a polynomial fitted to the observations themselves. The nudging is away and perpendicular to the local slope of the straight or curved line. It relies on the same assumptions as linear regression, assuming that <em>x</em> values are not subject to error. This in most cases prevents labels from overlaping a curve fitted to the data, even if not exactly based on the same model fit. When observations are sparse, this may be enough to obtain a nice arrangement of data labels.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">16532</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">-</span><span class="dv">10</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> (<span class="sc">-</span><span class="dv">10</span><span class="sc">:</span><span class="dv">10</span>)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">yy =</span> (<span class="sc">-</span><span class="dv">10</span><span class="sc">:</span><span class="dv">10</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">21</span>, <span class="dv">0</span>, <span class="dv">4</span>),</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">yyy =</span> (<span class="sc">-</span><span class="dv">10</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">21</span>, <span class="dv">0</span>, <span class="dv">4</span>),</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">l =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">21</span>]</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The first, simple example shows that <code>position_nudge_line()</code> has shifted the direction of the nudging based on the alignment of the observations along a line. One could, of course, have in this case passed suitable values as arguments to <em>x</em> and <em>y</em> using <code>position_nudge()</code> from package ‘ggplot2’. However, <code>position_nudge_line()</code> will work without change irrespective of the slope or intercept along which the observations fall.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, <span class="dv">2</span> <span class="sc">*</span> x, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">2</span>, <span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.8</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAyVBMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kJA6kNtNTU1NTW5NTY5NbqtNjshmAABmADpmZrZmkJBmtrZmtv9uTU1uTW5uTY5ubqtuq+SOTU2OTW6OTY6OyP+QOgCQOjqQOmaQkDqQkGaQtpCQ27aQ2/+rbk2rbm6rbo6ryKur5P+2ZgC2Zma22/+2/7a2///Ijk3I///bkDrb2//b///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T///+7UTbrAAAACXBIWXMAAA7DAAAOwwHHb6hkAAANtUlEQVR4nO3deV/byB2AcRGoSXEC7pFNIInZNmloA20Xu4Bx60vv/0XVI3PI8ugazXh+Iz3fzx7/ZFghP6tzLEUxIFjkewGAIgQK0QgUohEoRCNQiEagEM0g0N8B7jUItP4QoIpUjQQK0QgUsmRKJFCIRqCQQ1MhgUI0AoVoBAoZcgokUIhGoPCvoD4ChWgVA5390u8P43jxuX/6kB0KNFBSXrVAF1+u49nH69XVML4/yw4FTERRld12tUAfVZW3w8XXUTz7NMoMBQxEUaVCqx+Drreis/OHZGP6NNWu0fKh42wHurq6iB9PnwNNDwUMWA508flifap0TqCwxeYx6Posfn0OH3MMCtumxz+e/qFXLdBNn8lunrN4NJaqzU6g931lyHVQ2GYn0MKhQA2Z0ggUohEo5NBURqAQbT44iZeXBwQKz/IKm/ai6M9/IFCEiUDhXoMnfxEoHKp2O7MIgcKdihNCihAo3EkF+t9/mf0IAoU7r4EWXOksRqBw53UDSqCQTF3sPDEaSaBwY7sotqAQjUAhyG5NBArRCBRC6EsiUIg2H3wwG0igsKegopvoyOhHEihEI1DY4ehlmgSKpprPqStAoGjIwpy6AgSKhggUohEoJIs4BkUQ1JS6yPByfD4Chbl0NZtHhPRsF0qgsGP69jcXP5ZAYWanmJvI8G5mIQKFNfNB9Mb2ZpRAUV9uLcaTlnIRKOyYqI2n8bTPXASKenJLmURRlP8YRVMECtEIFKIRKKrY3M50eEszD4GiArcTQooQKCogUIhGoJDM8ZS6IgSKOqZv/2r/dmYRAkWxzFPqeg4mhBQhUNRhf8JnCQJFPotPqTNFoKiDQCGE5afUmSJQ1EGgEI1AIYCni/I6BIoX3m4XFSBQPNvccBfWKIHimb8ZIQUIFM8IFLIJ7JNA8URemwkCxY75IDr4vu8LnjkIFNlPfz44Wv9t/yvuRggUWckzQiYEChF2P/nx4Z2He5o5CBRZBArR2MVDCP2nvrzkJAmSLS+j6E+h7eJnn0ZxvPjcP33IDkWQSj7x0I5BH/vvR/Hqahjfn2WHIiRVb2cGFujtu5/rLeji62izJd0aioBUnlIXWKCbXfzs/CFefLlWwxS3SwYXRM5YKlIr0MfT50DTQxGQdgf6ugVND0VIAuuzXqAcgwYurDYTtQJdXV1wFt8O0+NvUaRuaUrHddCuyD6l7s1v6o6ReNxJ6qbkKXVSLiUVIdBuStq0/+JC+wi0C3Ieo0igkGqzi3fzinerCLTtch6jyEkSJEsuMwXQJ4G2Wv6nGsIJfIJA26j8fiaBwp+ofEoIgcKf4KYsFSDQFiLQraEQpz19Emirqa9nhnAtqQCBtk3qk1RX4oO4Gl+AQFts84iQvb6c2DoCbZPMpziR9JAlQwTaYgQKOTSfYPIAMHbxkIqTJMiQ9+lxmQlwi0BD15p7RnoEGqwW3c8sQKChatOMkAIEGioCrToUXhBo1aHwoht9Emjopsffe1Ek/wEMpgg0RKlPa9o7vIvHYd/OLEKggQvmKWCGCDQ0mU8qaZNAi4bCJwItHYq90XxKBFo6FD4RaOlQ7EXOJ0SgpUMBdwg0BF24ZZSDQEXrxu3MIgQqWUcmhBQhUMkIlEBFI1ACFY0+CVS+zYS6k2mrZ9XlIlCpXj6RzYS6qN2z6nIRqHibCXUtn1WXi0Al2vo0Xm9mEqjRULhFoAqBSrHzSRCoQqBiEahCoBJoPwUCVQgUIhEoRCNQ/zb3M7t+TzMHgXrHjJAiBOrdS6BdPAcqRaDeEWgRXaDL/9Qaikail+91EKiGLtD54ET9a/mX4rkzBGoZgWpod/ETNbdrEpVM7iLQxrYPrAhUQ38MOh9E5S/YIVDLCFQj5yRp2otOqg6Fkd3TUgLV0Aa6vIyOkt18paGwhEA19CdJ6iWk8wHHoK7oL+oRqIY20D9u/v1PAt0rAtXgQr0cBKpBoPvGbfda6gW6+Nw/fcgOBdypFejqahjfn2WHogKm1BmqFeji6yiefRplhqIcU+pM7Qa6vMx9wMrs/CFefLlWwxTHi9Ymz4FyHlSXZgs6/v0g5y7S4+lzoOmhKEegpnYCnQ/yJ4m8bkHTQ1HqZUodgdZVawvKMWhTKtBJ6TQcvNIcg/6a+z/56uqCs/i6ss9ZSh4Dhqq4DrpX6lmfpdPEkMKdJJd2n7PUzafQNkCge7Xev9+UTWNEGoHu1foYdJ53CgodAnUl90Fg4wMuNVWnCfQm2lwJnTBh2ToV6PKSnXx1u4HeJN/o/ECgDXDb3RrNnaQPyT+PCBQC5AS63g8dEWhdyf1Mtp5W6XfxcfE9+e2heMKcOgd0J0mbs8zlJYHW8xooc0Ks4TKTPWxBHSBQW6I4pk/7CNQFdvHWEKgN2bVHoNYQqAsEag2BukCg1hBoU7o1R6DWEKgLBGoNgTaRt9YI1BoCdYFArSFQU0VrjECtIVAXpm+LpzGgMgKtqcqUuhsezWANgdbDhJA9I9B6mFK3ZwRaD1vQPSPQmuhzvwi0jvRaYhe/FwRqikD3gkCrYs6nFwRqikD3gkCrYEqdNwRqikD3gkDLMKXOKwI1RaB7QaBFuCbvHYHqcLtIDALViLjjLgaBatCnHASqwZs15SBQHd6sKQaBFiBQ/wg0K7UmpsffIt4M5xeBFpj2Du/iccmDpuEUgaZl1kLyYmL2814RaIGkTQL1ikCfadYAgfpHoAUI1D8CVXJ+ewL1j0ALEKh/BMpNd9E6HCgTQkLQ3UCZshQEAoVoBArRuh2o72VAqe4GiiB0M9D0bzsfRAffeaa8VN0MNGU+OFn/zZQ6qboXaOY3nag2mfMpVvcCzRgf3vHaGMG6FajmtyRQ2boVqEayi5+wi5eqO4Hm/IacJMnWnUDzqMtM3whUqsqBzj6N4njxuX/6kB3aAhN1IAqJqgb62H8/ildXw/j+LDtUsqfbmQW/3eTgR7y85N2aUlUM9Pbdz/UWdPF1tNmSbg0VrMqEkPH6j9CnWLV28bPzh3jx5VoNU9wumQ2pQMfRAV/dCFCtQB9PnwNNDxXsNdD5gCfYBKk80Nt+Xx12bm9B00MFe92A8tW3QNXaggZ3DPpi2uNAM0y1Al1dXYRzFr/9G7EFDVRXroMSaKDaeSdp97ch0EC1M9BdBBqo9gWq/00INFDtC1SPQANFoBCtXYHyRffWaVegaJ02BLq5n8nWs5VaECgPWWozAoVoBArRwg804lHJbRZ+oC+Wl1HEtzPbJuxA00udfPNtzNczWybsQNOSp4PwzY62CTfQ7BKPk5Ol6MTLwsCVcAPNYu/eSu0JdMLXitsozEB1S7u8XG9CqbRtwgxUS11mos+2CS9QLsp3SniBolNCCZQpdR0VSKBMCOmqEAPlifIdQqAQLYxAt6fUEWiHhBHoK1550DHyA91aMl4a0zXyA93CmzW7JrBAeXFh18gOdGepCLRrZAe6gzdrdo3cQLVLNB8ccZLUKXID1eMyU8fIDJTb7ngiM1DgiahAk/uZbD2RIilQ5tRhB4FCNAKFaHICjWIeU4cdcgJNUV8g5tWvUCQGqp5Tx1PAkJARKG8mRg4ZgW5jMghe+A90979MoHjhP9Bd7OLxwm+g+v+qOklKHugNSNyCcpkJL/wFyjV5VCByCwo823ugTKlDHfsOlAkhqMVXoFxKQiUECtH8HIMSKCrab6Cv/5Xp8bco4tVbKOPrMtO0d3jH3SKU2l+gmSl1vQ/s51HO2xb0Le8mRgX7CXT3pxMoKvG2BVV7d3bxKOM+UP1P5iQJlfjbgn5jSh3KuQ2Uu+5oqGKgs1/6/WEcLz73Tx+yQwF3qgW6+HIdzz5er66G8f1ZdqgGM5ZgSbVAH1WVt8PF11E8+zTKDN0VMakOllQ/Bl1vRWfnD8nGdD1Myf2j9AlbKge6urqIH0+fA00P3UWgsKU80Nt+/0ydHl2sT5XOqwXKMShsqXwWvz6Hjysdg6Z/0rS3TvWk2RKi06oFuukz2c1XOot/ktxr582aaKBaoPd9ZVh6HTTzU/6nJiRzwx0NOL7VOVnv4g8IFMbsBar5CfPBOk62oGjA6RZ0or50NGELCnN2As0Zrdqc9ggU5tweg96sj0D/xrR5mOPhYRCteaDcM4JDbEEhWrNA2XrCMbagEI1AIRqBQjQChWhNAgXcMw+0MF67P84cC5IlZkHqLQmBOsaC7CDQmAXZJWZBvAYK2EWgEI1AIRqBQjQChWhWA00e7rD1FWVf1Pel34/K/5xjItaFImR9GCRiM9BHtQ62H9Xoy+3Q9xIoMtaFImN9mCRiMdDbdz/X/3tsPybHk9Xfr8v/kHsi1oUiZH2YJGJ9F7/9oDFP1vuQ5MnQnolYF4qQ9REbJGI90O1HNXoy+3gtYashYl0oQtZHbJCInUA3j2qUsQV9WhYJx13e18UW/+sjlrAFFXPcJeADkbMuFP/rIzZIxHqg249q9ETtRFb/8F6GiHWhCFkfsUEi7b0O+k7ArlXEulCErA/P10EB6wgUohEoRCNQiEagEI1AIRqBQjQChWgECtEI1LXxwY94PuC9kIYI1LmbI/UXzBCoc9Pj7295bakpAnVvHPFCHmME6t5NxB7eGIE6N3nzb95pZoxAXZuv65y84SDUEIG6dnN4Fy8v2ckbIlCIRqAQjUAhGoFCNAKFaAQK0QgUohEoRCNQiEagEO3/Ks6pyneDV00AAAAASUVORK5CYII=" style="display: block; margin: auto;" /></p>
<p>With observations with high variation in <em>y</em>, a linear model fit may need to be used. In this case fitted twice, once in <code>stat_smooth()</code> and once in <code>position_nudge_line()</code>.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">subset</span>(df, x <span class="sc">&gt;=</span> <span class="dv">0</span>), <span class="fu">aes</span>(x, yyy)) <span class="sc">+</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="sc">+</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> l),</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="st">&quot;center&quot;</span>, <span class="at">hjust =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="fl">1.2</span>,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>,</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>))</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>With lower variation in <em>y</em>, we can pass to <code>line_nudge</code> a multiplier to keep labels outside of the confidence band.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">subset</span>(df, x <span class="sc">&gt;=</span> <span class="dv">0</span>), <span class="fu">aes</span>(y, yy)) <span class="sc">+</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">formula =</span> y <span class="sc">~</span> x) <span class="sc">+</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> l),</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>,</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="dv">3</span>, </span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">line_nudge =</span> <span class="fl">2.5</span>,</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>If we want the nudging based on an arbitrary straight line not computed from <code>data</code>, we can pass the intercept and slope in a numeric vector of length two as an argument to parameter <code>abline</code>.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">subset</span>(df, x <span class="sc">&gt;=</span> <span class="dv">0</span>), <span class="fu">aes</span>(y, yy)) <span class="sc">+</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> l),</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">abline =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="dv">3</span>, </span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>With observations that follow exactly a simple curve the defaults work well to automate the nudging of individual data labels away from the implicit curve. Positive values as arguments to <code>x</code> and <code>y</code> correspond to above and inside the curve. One could, of course, pass also in this case suitable values as arguments to <em>x</em> and <em>y</em> using <code>position_nudge()</code> from package ‘ggplot2’, but these arguments would need to be vectors with different <em>nudge</em> values for each observation.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="fl">0.6</span>, <span class="at">y =</span> <span class="dv">6</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAt1BMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6kNtNTU1NTW5NTY5NbqtNjshmAABmADpmkJBmtrZmtv9uTU1uTW5uTY5ubqtuq+SOTU2OTW6OTY6OyP+QOgCQkDqQkGaQtpCQ27aQ2/+rbk2rbm6rbo6ryKur5P+2ZgC22/+2/7a2///Ijk3I///bkDrb///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T////M3e9IAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAN9klEQVR4nO3dAVvTSAKH8aBulSr27jgV3XK6qy7cCQild7Q03/9zXSdgadKknaSZzH8m7+/ZFdeHQJq8O5mkkiQpICzxvQLANgQKaQQKaQQKaQQKaQQKac0C/Q1wbL9AGy0FWCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSCNQSOso0OkgSZLDRt8DUZm+/PPxFzvdBDobHafp1bMfjb4JYuIk0Lv3l2k6/zg8ull9yC+9y/9+prXWCtFyEejt8M1luvg6Tq/f/vpQWLrE8pC+/p+T5X8fEChKAi2kkmcR6MXrv5Yj6Pz3SzOSPn4oLL0pSda/7Wy0jJMRFGWB5lMpsj7E3324Seefzh4/pI8/7lG5SP67Tp4vj/ETRlC4C/T2KCvz8UNh6U2FQM0AOiBQLA+mh+n96UEHI+j60iXy3/R8OQP9w5zKo+/MFcd//K3NOehDoDXnoEArrANdfD15OIs/sTuL3/U1gQfbM+nmOijQEO/FQxqBQprbQJmFYoddiTCCQhqBQhqBQprrQJmFYovdeTCCQhqBQhqBQpr7QJmFooJNGoygkEagkEagkNZFoMxC0RgjKDyxS45AIY1AIa2bQJmFoiFGUHhhGxyBQhqBQlpXgTILRSOMoPDAPjcChTQChbTuAmUWigYYQdG5OrERKKQRKKR1GSizUNTGCIqO1UuNQCGNQCGt20CZhaJmA4ygkEagkEagkNZ1oMxC+632/mcEhTQChTQChbTuAy1+p9yzwxGL//675A8bVOZ/BCXQGLW2VwkULkQV6Ockef6zha8EGdNBkhy28pV8BJr/XtPB85/3py8afSWoKhtBGzUmMIIOjjnORyemQ/yrH2k6Gx238KUgI+xAk2Tt2xFojDYCze3zGrzMQZP1tc1eCof4yBR3aH6f1yAQKCdJESoeEkMO1Fxmos/YnOf3aVCBNp6PIFwhzUGbfz+EqvH+9n+ZCdiCQCGNQCHNX6DMQvtjj33NCAppBAppBArX9prM+QyUWSh2YgSFNAKFNAKFW3tO5KwDvR4a4+zjm8vC0k0xC8UOtUbQ26Ob9GJcsjTgSJ1A55/O0sW3s5KlAUfqBHr9dhnpx+xAb5Y0nK0XkKkRqBlA07t366Po/oEyC43a/ru3RqBmBvpgNQ9lBIVjNQK9OFn9blxYGnDEPtCHA7sZRhff27rMBOxgH2g2Bc2uh75enci3ESiz0Gi1sWt5JwnSCBTSCBSOtDN3kwiUaSiqSAQKVCFQSCNQONHWtE0kUGahKCcSKFCOQCGNQCFNJlBmoRFpcWfKBAqUIVBII1BIEwqUWWgkWt2RQoECmwgU0ggU7Wp5piYVKLNQFEkFuuH+lKckypoOkiRx/pBq6UDNM2Z5ULeoh6dUD1zvHelAeUi3sOmrHyV/2vosTSzQ/GpMnpVtA2g472T6JRZo/qG4BKptNkpye8jFU6zFAi0+Sp5DvLbcGULjZ8JvIx2oOUky/0JQdnjLDSH9C5TLTMomy111sH6I60OgTqYx6EgP5qBAnmCgDKF4IhgowuRmYCFQSCNQSNMMlGkoHmkGitA4G1IIFNIIFNJUA2UWioxqoAiJw+GEQCGNQCFNOFCmoZAOFGFwO5AQKKQRKKRJB8osFNKBQp/rQYRAIY1AIU09UKahPaceKJR1MHwQKKQRKKTpB8ostNf0A4WqToYOAoU0AoW0IAJlGtpfQQQKPV0NGgQKaWEHylMWohdIoBWrR6DRKwt0NjqwfLoGI2hPdXfaWj6CnifJ8581lvZhNkoOPhOoW9NX/0r8buOqQ/xy9yeHuT+5Hg6Hby7T+cfh0U1xaQ9mo8PlvwTq1nTg+yEr1XNQk+j6/r8Ym18XX8fp9dvi0l0orGF2dL8iULfcPyx2l6pAr7IHFJ0/HegX387Mh/nvl+nd+8vC0h5cmVUrf6ApWlP6rL9O3zcpDdQ8Pyv7P2ftJGR5aB8Ox+ndh5t0/sm0+pvR3YoWEWgX/D+MsvwsvuTIeffuzIyit0e/Al1fuhubD5rlLN6xzUC7ftJaveugF+OnEXR96U7kn7Q3G73gJMm5jUCdPO5wm7qBepyDFrYNl5k6EFCg5ti++H65+Hri6Sy++22DTbqBmuugr89Sn9dB6VOA9hy0aunOUKhnne+AwAJF3xAopBEopIUXKNNQb3xs+vACRa8QKKQRKKQFGSjTUA88bfQgA0V/ECikESikhRoo09BO+dvcoQaKniBQSCNQSAs4UKahHfG6oQMOFH1AoJBGoJAWdqBMQ53zvYnDDhTRI1BII1Bs4fsAH36g/rcgnAo9UESOQCGNQFFFYvoUQaCbq27uEM2NGa2ZG1l+8X4r5QoRBLrh/vTF4y3CYeHhVsC2j8bqWoyBZjcGn418P58iFA83UyfQ7lxld1ktPOYJVR4eR8Eh3qX82nN0r6U8UIkzpDSWQPNkD1eaOMR3Yf3O1PenyzFBdovLMeeU+ZMkpXutRxJo/t7+5jITfVozm+vva4d4qadVRBkoapsSqFNS2zREBOqY0CYNUu4sXmljxhIoWqMTpxFToFpbFq2IKVBEiEAhjUCxTm6aFFugchsY+4ktUESGQCGNQLGiOD+KMFDFzYymIgwUMSFQSCNQZFQnRpEGqrq5UVekgSIWBAppBArpGVG8gQpvdNiLN9BKV/zEZ0D6Fyg3bSrQPtT0L1DZuxChTNyBlryq6SBJXnS/Jr5NX35OkhDvWRV3oGX6OYJOB89+ZPdNDQ2B9sN0cBzmSyfQfshe9eb5ofYJkhF9oBsvjECDYh/o3T+Hw3GaXg+HwzeXhaVD0tNAs0P8q/CeLGEd6PzTWXr37iy9GJcsrS1/q6G+Blo8SVK6AdMW1oHevl3+cjFefDsrWVpa4WZtPQ3UXGYq9BlEobXmoMtRdP5xmB3pl0sarlarTaHsCqc270EfyFapE+ji60l2lH8aRQk0FH0IdP7x5PF3q3loEIGGMttyanNiE8hWqXMWP/7128ACRcCsA33s8/boJl18D/kyE9IQLtD/Yh2ouf5pTo+WH1+vTuRDCjScfYI10b+ThLARKKQRaO+ENdfpV6Bh7RukfQsUwSFQSCPQXglvjtO/QMPbR73Wv0ARFALtjTAPHQQKaf0MtPzVzkbJwZcAf2znyf1pdHel6GegpWajw+W/zwIO1PzQUZB3Z9iCQFcmps2rkAPNXsGk7BWEOf80CHTlyty6KMSfzF2ZZK8grh8K7G+gG6+YQBX1N9AN1QfIUEzMnXmDfgWbCHQl1pOkcOefBoE+MZeZPoccKJeZqpYO1ebPhk9CvMlrpUB+tHgbAl29cjODi+sqYig3Z9iGQJ9e+VUS2QGSQOMKNDoxvLx+BxrDJG2bCF5ezwONWfBtZgg0jWVXxolAIY1ALYT39nY8xwQCfbRtA4QXaDwI1AKB+kOgFrInECQizxiavvwy2Loy8RzeDQJdU7URpoPnP2X+rr3UyrhHoBakHnQptTLuEaiFLAeVJrauTFyHd4NAC8o2RDiBxodALUg1IbUy7hGoBakmKlcmvsO7QaAlihsjjEDjRKCQRqD7ERnK4jy8GwRaIQnlb/sGsppNEWiVQH5eIpDVbIxAq9jteTeH+If32w+n2990zxCozdIx8hpo9n57YvOmO4HaLB2lbMfv2i6uAj22e9M9YQ5qtXR/VQVUI9yST3261ilylcAfAt3N8V+2bxpo1APnCoHup06gFZ/LCLoNgdqp/LvMNQ7xLQbaj9HTIND9eAq0PwjUjapAJ5u3J+t9g1sRqL0626gi0OzSkcWntrUa4SNQN8oD/TI4tPtU/EKg9dhup9JAy9+5rBNov0ZPg0DdKA/0+LzkDuOMoNsQaH027y9WzEHNk0RsPrX4HW3edY0TgTax+29oVJ3FXx00GC5j/wsh2xBoExaBljyxzgR6f9rgMSIESqD1PBSzZZudt/k0hoRACbSmzoJJuv12egh0P70NpysEuj9XkRJ/SqBtaTsm4nxEoO1pKyriXEOgrWt4RvOwGHEWEGi7kqYXLft8KWmb2oHOPw6PbopL48nOa6TVSxHoprqBLr6O0+u3xaXx5Km0kkP2RoSrzyHQcnUDnf9+md69vywsjTXVEW6Nlz5L1Q307sNNOv90ZpY0HK1VnJKGh/9eqxvo7dGvQNeXhh2O47U1H0HXl4Yl+qyLOSik1T+LP+EsHt3hOiik8U4SpBEopBEopBEopBEopBEopBEopBEopBEopO0ZKODYXoFujbf1r9gYq1JGZ1Vs1oRAu8GqlCBQ3yvwhFUp4SdQoEUECmkECmkECmkECmltB5r9YF3ux0P8uR4Oh28ud3+ecyLbw5DZJrahtBzorXn1+dvk+HMx9r0GD1S2h6GyTaxDaTfQi9d/Lf/HyP+IsjeLb2e7P6kLItvDUNkm9qG4OMTnb/LgzfL4MRyOfa9FWrzphVcy28Q6FBeB5m+T483duzONEUNkexgy28Q6lNYCvRgO36YyI+jj2mjMuQS2R47CNvE6ggrNuSR2htL2MBS2iXUoLgLN3ybHG3MAWXwX6EJkexgy28Q6lMivg76WOLCKbA9DZpt4ug4KtItAIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1A3bs6+DOdjQ59r0aYCLQD5y/MP2iCQDswffnl1Q/fKxEoAu3CVXLsexVCRaBdOE84wjdEoB2YPPvPiCG0GQJ1b7asc/KMSWgjBOre+fOf6f0pB/lGCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTS/g/GtFaRsOnYtwAAAABJRU5ErkJggg==" style="display: block; margin: auto;" /></p>
<p>Negative values passed as arguments to <code>x</code> and <code>y</code> correspond to labels below and outside the curve.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="sc">-</span><span class="fl">0.6</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">6</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>When the observations include random variation along <em>y</em>, it is important that the smoother used for the line added to a plot and that passed to <code>position_nudge_line()</code> are similar. By default <code>stat_smooth()</code> uses <code>&quot;loess&quot;</code> and <code>position_nudge_line()</code> with method <code>&quot;spline&quot;</code>, <code>smooth.sline()</code>, which are a good enough match.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, yy, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>() <span class="sc">+</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> yy, <span class="at">label =</span> l),</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="fl">0.6</span>, </span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">y =</span> <span class="dv">6</span>,</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>))</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We can use other geometries.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, yy, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>() <span class="sc">+</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label_repel</span>(<span class="fu">aes</span>(<span class="at">y =</span> yy, <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">&quot;point&quot;</span>, l)),</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="fl">0.6</span>, </span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">y =</span> <span class="dv">6</span>,</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>),</span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">min.segment.length =</span> <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>When fitting a polynomial, <code>&quot;lm&quot;</code> should be the argument passed to <code>method</code> and a model formula preferably based on <code>poly()</code>, setting <code>raw = TRUE</code>, as argument to <code>formula</code>. <em>Currently no other methods are implemented in</em> <code>position_nudge_line()</code>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, yy, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">2</span>, <span class="at">raw =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> yy, <span class="at">label =</span> l),</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>,</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">x =</span> <span class="fl">0.5</span>, </span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">y =</span> <span class="dv">5</span>,</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">2</span>, <span class="at">raw =</span> <span class="cn">TRUE</span>),</span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">direction =</span> <span class="st">&quot;split&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAAyVBMVEUAAAAAADoAAGYAOpAAZrYzMzMzZv86AAA6ADo6AGY6kNs9PT1NTU1NTW5NTY5NbqtNjshmAABmADpmkJBmtrZmtv9uTU1uTW5uTY5ubqtuq8huq+SOTU2OTW6OTY6ObquOyP+QOgCQkDqQkGaQtpCQ27aQ2/+rbk2rbm6rbo6rjk2ryKur5P+2ZgC22/+2/7a2///Ijk3I///W1tbbkDrb///kq27k////tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T///9DuIigAAAACXBIWXMAAA7DAAAOwwHHb6hkAAATLUlEQVR4nO2dC3vUuBWGnUATyAyEtGUL5bJJoZttm7QQB3Jpc/P//1Ed2Z4ZX2RbtiWdc6TvfZYFhmhGI71zjqSxpSQDgDEJdQUA6AOCAtZAUMAaCApYA0EBayAoYM1IQf8AgB8mCjruxwGYCAQFrIGggDUQFLAGggLWQFDAGggKWANBAWsgKGANBAWsgaCANRAUsAaCAtZAUMAaCApY40DQdGpdAGgBQQFrXAgKQ4E1nAp6u58kycH4SgGwxomgpaH3R2+z7HL325R6gaAxT7L2BU0Wi/Ll//dj9b/bF7+Ne2oQAYSCJitB14Zm16sUvwNBQYMR0xSXgt4freREBAUt6AXNK3D9bJXjrxFBQYOUUtB8DFoKqgLoPgQFDWgFVS9f1uB8NQL9u5rKA7AlZSMoABqoBd2DoaCHcXa4EHQPgoJuyAVNEUJBNyPlcCIoQijohIGgCKGgk0KNvT3Tn3cjKEIo6KAUNDEVzs0yE0Io0LMOoImpoY4ERQgFWkpBF8SCIoQCLesASi8oQijQUPqZLojHoAihQEe6cWPzUH45Zs81mc4ERQgFLbZqbB6iEhQhFLSomLF5jE5QhFDQoCLG5jECQRFCgZaqF5sHKQTFKBTo0GpBJyhCKKiht+L+6CB7POm+L8jN7nYIoaBFVYqKFWr7mT//kUJQhFBQYaITjvYHRQgFDToC6BAuBUUIBRumGuFqh2WEUFBjYgB1KygMBSWTU6qzPeq1q7IgVqYGUOeCwlCQzZmTuDvlAyEUbJgcQN0LCkPBnEUdh+ckIYSCkukB1OlBXgihIGfOqrhzQRFCwZxIZSDo3S/L1xdZ9vBxeXjVLOauYiAY5gRQA0EfPh5nPw+vnk5Xv71pFnNYMxAI82bLw4Levb/KHj6dPXy+yO7eXTSKmdQNITRu5oUpY0HL31QRhY+6gRCYudxomOJfnd0crgWtFjOqHUJozMwMUmaTpL/+Xomg1WKGtYOh0TLXALNlptUAdNIYFEtN0TNjjT7HIMWvwuZq+v50+mH0LD5DCI2d2bMQgwh6s8wXQCesgzZrOKWCQDRzA6jTb5JyEEJjZv4yjnNBEUJjZnYA9SAolprixcI6uC9BEUJjxEJs8iAoQmisWAig/gTFF54R8N9/V/9mZX7sQ1CE0EhobFJnJTB5ERTb1sdBXVA7C4w+BUUIDRu1T93B9q/zl5gUfgSFoVFQi6CWZh4+BcVSU+C0BZ0fkzwJihAaA1VB03SxWFiYd3gVFCE0bGqCrvxcWIhIvgRFCI2AiqB5AJ09Q8o8CpohhAbP/dHb9R8LQRfzu9u3oDA0ZM6T58UfVCfbSPA+BUUIjQh738x4FxSGRoDFrvYoKAyNBUtr9Dk+BUWSjwSbkYhAUBgaONVuliUoQmgUWEzwvgVV334hhAaO3TzpVdAkgaHhYzWAuhW0eQx4KSiSfMhYnmh4FjQpBIWhwWJ1hpR5FlQZinlS2NhN8M4F/ZIkz37UHsNSU9BY7163gu4/+/F48rz+IEJoyNgOoK4FfdvO8wihAWO/c90K+vJb7SLBAhgaLKn1AEohKJJ8sDiIPe5n8a2pPEJoqNheYlL4nyRlCKGhYj/B+1hmavuJEBomTrrV78Uia2BoiLgIoJSCIsmHhZuoQyMoQmh4uJghZWSCYp4UHE4SPLWgMDQYXHUolaDVNzT7uQA9jgIonaBI8kHhLCNSCwpDgyB1FUAJBUUIDQh30YZQ0AwhNBQcZkNqQTFPCgFnCZ5WUCT5QHA5nWAgKAyVjstAQyooknwQOI0ztIIiyYtDndaV1O6RcJsHWQiKECqG4iaJ/aqhboMMsaAwVBj5bWY1HE8kWAiaQlAxnNfvkUiShdtRGrWgCKHiuD9Kdtdh1P1+heSCYp4kj+2d5MrPhdOVQi6CIoTK4FoFz+2d5KWgDsMLvaAwVBTXSZLsbE88dB1A2QiKJC8S918FMhAUIVQsHkILG0FhqDwcL4HmcBAUSV4oPrqNhaBI8iLx0ms8BC2PF4ehkvCR4PkIqtbTFhBUEn7GZUwEzQpBYagc/ARQNoK6/0oCWMWTn2wErR7jaf25gX18LbzQCfp4Ur9wCzN5SfgKoHSCqq3B6+crYDFUEL78pBO092yF2c8O3OIvmBgI+nS6fHWWZQ8fl4dXzWLTud5t3jsAQ8XgLcEbCfr9OLs5vHo6Pc5+vmkWm45GUCR5KXjsqGFBHz5frH+7e3fRKDaddopHCJWCz34aFvTu/T9Vir97f5U9fDpTRRSzX1hNkjoOmoWhvPGY4I0E/eVY2bnK8qWg1WIzaC4z5Wxzx/wXAI7wOhIziaC5mdsIWi1mG4RQ/vjtI4Mx6K+5mbbHoB1gnsQdrwnedBa/Cp9Ppx+szuK78Pv2wWg8hxADQR8+Ll9fWF8H7QJJnje++4fNxSIbkOQ54znB8xUUhvLEe+fwExRJnjH+0xtDQZHk2UIQOzgKipk8Vwg6hq2gSPL8oEhtLAVFkmcJSdzgKWhvLtFdqAfcQ7O8wljQrg8rBHXO7cu/Ja1WpklrTAXtMxSCOud2v3WdGdXEgKugHRfe3R8lO18gqGvq58zkUH1/wlzQhqH3RwerXxDUNZrbHaiW/tgKqjU0z+6XENQ1DUGTJCFbV9EJen+0075fSF/MJZokf/nsh+4sKWCZuqCJOmyGamVaH0HPk0SpMFzMKesQulisawdB/aAVlOa7va4Uv5qNJAfDxZxShtDFStCyenmKxyzeOU1Bi42zSL446R6DKkU7VfAiaBlC1b53ybpOzzFJ8g/lxm5dgl7mt1yedyV6P4JWDC0fwDITAVQrTDlaQdUdwflCWGc29Shoupd/gP28INBAemWEfhY/GKM8CVpZffP0gqAF0VdIJXzXQQtwWRM5lAme9TpoDm3rAPIe4LwOmoMkTwvpADTjvQ5agCRPCnWAYL0OmoMkTwl56/NeB82h/gxHDXn+4r0OWgBDyaBveubroDnU4/R4ofeT/TpoDvlAKFYYRAYRgsJQGhgEUEGCkjdVdLBodBmCwlACtkN/yloIERQTJf9sYgJpLaQIimGob5jkLFGCcmiwWOCR4AUJCkO9kvJI8JIExTDUI3yigThBYagP2PgpSVAY6g0+fooSlFHiCRtOgyl5gsJQ17BqZVGCrg3l8dkOFk5+ChMUw1AP8GpiYYLySj9BwixJSRMUhjqGW/uKE7TzE67uU8GuTXPh5qdAQTvGSI8nz8v9Q8EMeA1AM5GC6hsxv7/v/qi1+T8YAzs/xQraSkOXSU7PZhOghtrJ8mvjsARmEySFREG1hiK7j6PYC7i+CRe7AWgmVNDKJ327O/jghmegSrGbeltQZn4KFbRyvsLa0MeTVQiFpcYU51HUUjy/AWgmVtB1Y1YOWFDLTPDTmKagSbLg6KdoQesHLIBRNFJ8cZLHHrcEL1fQyhk1rNpTDGrduDJJUn4uGPopV1CeIyZBqCHRn15UBd3j2JxyBYWh89mOQdNcUIaNKVxQGDqLjaB8m1KwoDB0NmtBi4bkNwDNZAsKQy3B2E/ZgrJuWTlUWpFfM8oWFIZagLWf0gVlPLqXAm8/xQsKQ2fC3E/5gmbMG5g57OeZQQgKQ6fC3s8ABIWh00n5TzIDEBSGTkWAn0EIisWmaaQSPtlBCApDpyDCz0AEhaETEOGniaA3y+Xriyx7+Lg8vGoWYwMMHYsMPw0EvXt3kf18kz2dHqvfGsX4AEPHwX+BqcAsxa8kffh8kbtaL8YHCTNSRkjx01DQVei8e3+VPXw6U0UUzis2Ghg6AjmNZSLo3S+vzrKbw7Wg1WKckNPo5AhqKrMIujJzG0GrxVghqNlpkdRQhstM34+5j0EVYgZWtEjy00DQMrc/nX5gPYvPgaEGiPLTJIL+XC5XY1Dm66AlQhb3KJHlZyjfJG2AoQMI8zNIQWFoN9L8DE5QGNqLOD/DExSG9iCwbcITVGIveEJiywQoqMh+8IHIdglRUJk94RyZrRKkoEL7wi1C2yRMQfPe4LkhKxVC/QxV0CxNuW4ZTINUP4MVNN8yeGOoqC5xQCrWz3AFzRYwdI1gP0MT9LJyVJI6AET1isRuscrWT4FnooQlaP2043W/RG5ozU9xp0qFJWj9aD/Rqc0alUaonMsnhqAEvd1PkufVB2BorQmUnxCUkkYEbRoaoaL1BpDnZ+iCxm6o/BQSuqBxGyrfz/AFjdnQ7mWM2xdfkkQdyM2e8AWN1tC028/VdHL3mzrvmD8RCDrRUP1zyaH3Xd/uvxXyDmMQtNlXZoqK6L5O0v5PZf7m6l9rMCUsQTuZYKhoQRt+tv4dgnJjvKH5PCIR0IUahvwsU/zLb/6rNpZYBG3MaA0Mvd1fzXIvdwX0YYu+6VEBJkn8GGuonHlEk2E/i/Qgwc+IBB07mc/dlCioyfuU874iEnTkZF6ooAPT9xI57ysmQceleZmCDk6PCuS8r7gEbRrap6hIQQ2Gn8KITNBmD/Z0oUBB0/D8jE7QYUMFXjNZYv7hE0R0grZmEY1+TBKhhjbDZxh+RihosetI5Y7kek9KFXTgcyeWCAUtN3WoGFrtTKGCmq0uCSRKQYtNHTpm8xL9DDS9K+IUNFnUd3UQ3qMB+xmpoMrQxpBNbqemWz+lvxUNkQqqmVRI7dew/YxX0HZeFNm1aeB+Rixoe2FbXudW9Qxv+JkTjaD3R8nO18Yl5LaDqOcvRtMI/IxG0Pujg9Wv1vXxkoOoRk85lTcmFkGvlZuaGzjEjkSjCJ9ZPIJeqm00dHeJ2TTUX4rX6RmknxBUq+jEF/ElaF3PgMNnFo+geYq/1t+j2e7sif3tSdB4wmcWj6Adk6QSS4qOEnSqzVo9g/UzGkHzZaYvnXe56/p8fK97EFSb3cPVMyJBFdfdGw5qw9LYnncuqF7PkP2MRtDrnd+y/q00tF0/ru9dCxpZds+JRdDsMhnaSkMfncb0v1tB63qWl2OF7mc8gpqgz/Pm5V0K2sjui7WgY55DIhC0ij6Hmu95O2a7uFGCtvUsBDV/BqlA0BodsxAzE85Hbcc1QtC0Xq00v+kvDj8haJOuIGpdBmNB23rGMfosgKAtOhXtNWL0vXaGgjb0HPZT4k1/PUBQDZ2Gdis6/m5lE0GbdhqET6G3TXcCQXV0B9GeuGXZi9qrmuoJQRvFgqUrr3bpYduLtp6617998XW/sY8+BK0VC5jO6KV31KoW9dfqHgrr9tEPy08I2kO/onZm0RqdGq/SN1OTu4++MRC0h54sa8nRVkJuvULvYpfAPUzHAkF7aSqqcXSWpDVB20/dOfgsgaBDxYKnpYtO0emOFoLqnrJ8tf6vCiDoULEI0FijFWqap0my0D5V+4V0pfsFfTwRchZSHxB0kKHANsPTjifYq1+w1P2UvYKqy19lnCbXBwQ1QStQr6RdUg2U2T57urliaeoIou8+QTlAUDP0Fg05Op7t086+pC6/wUX8ANVc0IePy8OrZrGI6JLJnqT15ysFnV7hyAR9Oj3Ofr5pFosLV47ubak8qvycU1t1G1ZEKf7h80V29+6iUSw2hgPfDDtb/zSvrpFNku7eX2UPn85UEYXbWjGmT7Kpcmr/bX5V41pmujlcC1otFicDkdBA18Efo36LbJgQQavFosXM0SG6/KV+d4zAGHQ6fSFyQNe+ctRvixcjZvEfop/Fty+OG3A0p7LiPgzN+2IM1kFHoL9a3Zqg7Rcsrpg/uG1eNh8R+CZpBJ23U1gQVPuCxRXzSfuy+XiAoCPovd+n19AJciqKK+bDv2y+Bwg6hoH7fQbDpLGZJdurlSDotGJAgwUzSyAoBGUNBIWgrIGgENQAOjkgKAQFvIGgjok29FkCgg4zyzEIOg8IOgwEJQSCDjNb0Gv51w2TAUGHmSto/l0lmAYEHWamoF/3D+zVJTog6DDzBI34UjkbQNBhZgr69rz7iFAwBAQdZu4YVB0FDiYCQR2j7L7cwVLTVCCoY5SgjydI8lOBoIA1EBSwBoIC1kBQwBoIClgDQQFrIChgDQQFrJkqKAB+mCaoifPkoCIt2NRkdEUgqEPYVIRPTSBohopoYFMTSkEBsA8EBayBoIA1EBSwBoIC1lgTND+qpnbgAhU/l8vl64vhn3MMi7bIYdIg0xSxJeiNaoL6wbNUfD+mroGCR1vk8GiQiYpYEvT7q3+tPh71Q7+IePr9bPiH3MOiLXKYNMhERaym+PqxiUSscshySR8zWLRFDpMGmaiIVUHrB88ScfeXMw5Bg0Vb5DBpkImKzBf0+3L5JmMSQcu6cBh2kbdFHfoG4RBB+Yy76PuDT1vk0DfIREWsClo/eJYIlUSe/kFuBou2yGHSIBMVCXMd9BWD1MqiLXKYNAjtOigAToCggDUQFLAGggLWQFDAGggKWANBAWsgKGANBAWsgaBuUeco4LSPGUBQx5w/V/+BqUBQx9y++PryG3UlBANBXXOJExHnAEFdc44zuecAQR1zvfufI4TQ6UBQt9yv7LzexSB0MhDULerE48cTJPnJQFDAGggKWANBAWsgKGANBAWsgaCANRAUsAaCAtZAUMAaCApY839MEwlz2nzcLQAAAABJRU5ErkJggg==" style="display: block; margin: auto;" /></p>
<p>Compared to pure repulsion adding nudging helps “direct” repulsion in the desired direction. Compare the two plots bellow using no nudging with the two above.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, yy, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">2</span>, <span class="at">raw =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">y =</span> yy, <span class="at">label =</span> l),</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">box.padding =</span> <span class="fl">0.5</span>,</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="cn">Inf</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, yy, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>() <span class="sc">+</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label_repel</span>(<span class="fu">aes</span>(<span class="at">y =</span> yy, <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">&quot;point&quot;</span>, l)),</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">box.padding =</span> <span class="fl">0.5</span>,</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Grouping is supported.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">2</span>),</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">10</span><span class="sc">:</span><span class="dv">1</span>),</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">group =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">10</span>)),</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">l =</span> <span class="st">&quot;+&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l, <span class="at">color =</span> group)) <span class="sc">+</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>() <span class="sc">+</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="fl">0.25</span>, <span class="at">y =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="sc">-</span><span class="fl">0.25</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>(<span class="at">ratio =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>One needs to ensure that grouping is in effect in the geoms with nudging.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l, <span class="at">color =</span> group, <span class="at">group =</span> group)) <span class="sc">+</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>() <span class="sc">+</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Facets are also supported.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y, <span class="at">label =</span> l)) <span class="sc">+</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>() <span class="sc">+</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">1</span>),</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_nudge_line</span>(<span class="at">x =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>group) <span class="sc">+</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>(<span class="at">ratio =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="appendix-a-more-on-density-filtering" class="section level2">
<h2>Appendix A: More on density filtering</h2>
<p>We define a function to simplify the generation of random data sets based on different probability distributions.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>make_data_tbl <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">nrow =</span> <span class="dv">100</span>, <span class="at">rfun =</span> rnorm, ...) {</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (nrow <span class="sc">%%</span> <span class="dv">2</span>) {</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>    nrow <span class="ot">&lt;-</span> nrow <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">1001</span>)</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">rfun</span>(nrow, ...),</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">rfun</span>(nrow, ...),</span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), <span class="fu">c</span>(nrow <span class="sc">/</span> <span class="dv">2</span>, nrow <span class="sc">/</span> <span class="dv">2</span>))</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>In all the examples in this vignette we use colors to demonstrate which data points are selected, but any other suitable aesthetic and discrete scale can be used instead. With <code>keep.sparse = FALSE</code> we keep 1/3 of the observations in the denser region of the plot. Although here we first plot all data points and later overplot the selected ones this is not necessary.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">make_data_tbl</span>(<span class="dv">300</span>), <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_filter</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, </span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">keep.sparse =</span> <span class="cn">FALSE</span>, </span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">keep.fraction =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>)</span></code></pre></div>
<p>Here we highlight the observations split in three group equal groups, each of a different density of observations.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">make_data_tbl</span>(<span class="dv">300</span>), <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_filter</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, </span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">keep.sparse =</span> <span class="cn">FALSE</span>, </span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">keep.fraction =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_filter</span>(<span class="at">colour =</span> <span class="st">&quot;blue&quot;</span>, </span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">keep.fraction =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>)</span></code></pre></div>
<p>The algorithm seems to work well also with other distributions, in this example the uniform distribution.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">make_data_tbl</span>(<span class="dv">300</span>, <span class="at">rfun =</span> runif), <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_filter</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="at">keep.fraction =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>)</span></code></pre></div>
<p>One example with the gamma distribution, which is asymmetric.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">make_data_tbl</span>(<span class="dv">300</span>, <span class="at">rfun =</span> rgamma, <span class="at">shape =</span> <span class="dv">2</span>), </span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dens2d_filter</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="at">keep.fraction =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>)</span></code></pre></div>
</div>
<div id="appendix-b-try_tibble" class="section level2">
<h2>Appendix B: try_tibble()</h2>
<div id="time-series" class="section level3">
<h3>Time series</h3>
<p>Several different formats for storing time series data are used in R. Here we use in the examples objects of class <code>ts</code> but several other classes are supported as <code>try.xts()</code> is used internally. The first example is a quarterly series.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(austres)</span></code></pre></div>
<pre><code>## [1] &quot;ts&quot;</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>austres.df <span class="ot">&lt;-</span> <span class="fu">try_tibble</span>(austres)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(austres.df)</span></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(austres.df, <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   time            x
##   &lt;date&gt;      &lt;dbl&gt;
## 1 1971-04-01 13067.
## 2 1971-07-01 13130.
## 3 1971-10-01 13198.
## 4 1972-01-01 13254.</code></pre>
<p>The next chunk demonstrates that numeric times are expressed as decimal years in the returned data frame.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>austres.df <span class="ot">&lt;-</span> <span class="fu">try_tibble</span>(austres, <span class="at">as.numeric =</span> <span class="cn">TRUE</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(austres.df, <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##    time      x
##   &lt;dbl&gt;  &lt;dbl&gt;
## 1 1971. 13067.
## 2 1971. 13130.
## 3 1972. 13198.
## 4 1972  13254.</code></pre>
<p>This second example is for a series of yearly values.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(lynx)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>lynx.df <span class="ot">&lt;-</span> <span class="fu">try_tibble</span>(lynx)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(lynx.df)</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lynx.df, <span class="dv">3</span>)</span></code></pre></div>
<p>Above there is a small rounding error of 1 s for these old dates. We can correct this by rounding to year.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>lynx.df <span class="ot">&lt;-</span> <span class="fu">try_tibble</span>(lynx, <span class="st">&quot;year&quot;</span>)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lynx.df, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   time           x
##   &lt;date&gt;     &lt;dbl&gt;
## 1 1822-01-01   269
## 2 1823-01-01   321
## 3 1824-01-01   585</code></pre>
<p>In addition we can convert the POSIXct values into numeric values in calendar years plus a decimal fraction.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>lynx_n.df <span class="ot">&lt;-</span> <span class="fu">try_tibble</span>(lynx, <span class="st">&quot;year&quot;</span>, <span class="at">as.numeric =</span> <span class="cn">TRUE</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(lynx_n.df, <span class="st">&quot;class&quot;</span>)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lynx_n.df, <span class="dv">3</span>)</span></code></pre></div>
</div>
<div id="other-classes" class="section level3">
<h3>Other classes</h3>
<p><code>try_tibble()</code> attempts to handle gracefully objects that are not time series.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">try_tibble</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">try_tibble</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span></code></pre></div>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">try_tibble</span>(<span class="fu">factor</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]))</span></code></pre></div>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">try_tibble</span>(<span class="fu">list</span>(<span class="at">x =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">5</span>), <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span></code></pre></div>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">try_tibble</span>(<span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">5</span>), <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span></code></pre></div>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">try_tibble</span>(<span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">ncol =</span> <span class="dv">2</span>))</span></code></pre></div>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
